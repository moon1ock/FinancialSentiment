{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n/**\n *  Copyright (c) 2015-present, The Regents of the University of California,\n *  through Lawrence Berkeley National Laboratory (subject to receipt\n *  of any required approvals from the U.S. Dept. of Energy).\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree.\n */\n\n\nvar _underscore = require(\"underscore\");\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _merge = require(\"merge\");\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _pondjs = require(\"pondjs\");\n\nvar _EventMarker = require(\"./EventMarker\");\n\nvar _EventMarker2 = _interopRequireDefault(_EventMarker);\n\nvar _styler = require(\"../js/styler\");\n\nvar _util = require(\"../js/util\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar defaultFillStyle = {\n  fill: \"steelblue\",\n  stroke: \"none\"\n};\nvar defaultMutedStyle = {\n  fill: \"grey\",\n  stroke: \"none\"\n};\nvar defaultStyle = [{\n  normal: _extends({}, defaultFillStyle, {\n    opacity: 0.2\n  }),\n  highlighted: _extends({}, defaultFillStyle, {\n    opacity: 0.3\n  }),\n  selected: _extends({}, defaultFillStyle, {\n    opacity: 0.3\n  }),\n  muted: _extends({}, defaultMutedStyle, {\n    opacity: 0.1\n  })\n}, {\n  normal: _extends({}, defaultFillStyle, {\n    opacity: 0.5\n  }),\n  highlighted: _extends({}, defaultFillStyle, {\n    opacity: 0.6\n  }),\n  selected: _extends({}, defaultFillStyle, {\n    opacity: 0.6\n  }),\n  muted: _extends({}, defaultMutedStyle, {\n    opacity: 0.2\n  })\n}, {\n  normal: _extends({}, defaultFillStyle, {\n    opacity: 0.9\n  }),\n  highlighted: _extends({}, defaultFillStyle, {\n    opacity: 1.0\n  }),\n  selected: _extends({}, defaultFillStyle, {\n    opacity: 1.0\n  }),\n  muted: _extends({}, defaultMutedStyle, {\n    opacity: 0.2\n  })\n}];\nvar defaultAggregation = {\n  size: \"5m\",\n  reducers: {\n    outer: [(0, _pondjs.min)(), (0, _pondjs.max)()],\n    inner: [(0, _pondjs.percentile)(25), (0, _pondjs.percentile)(75)],\n    center: (0, _pondjs.median)()\n  }\n};\n\nfunction getSeries(series, column) {\n  return series.map(function (e) {\n    var v = e.get(column);\n    var d = {};\n\n    switch (v.length) {\n      case 1:\n        d.center = v[0];\n        break;\n\n      case 2:\n        d.innerMin = v[0];\n        d.innerMax = v[1];\n        break;\n\n      case 3:\n        d.innerMin = v[0];\n        d.center = v[1];\n        d.innerMax = v[2];\n        break;\n\n      case 4:\n        d.outerMin = v[0];\n        d.innerMin = v[1];\n        d.innerMax = v[2];\n        d.outerMax = v[3];\n        break;\n\n      case 5:\n        d.outerMin = v[0];\n        d.innerMin = v[1];\n        d.center = v[2];\n        d.innerMax = v[3];\n        d.outerMax = v[4];\n        break;\n\n      default:\n        console.error(\"Tried to make boxchart from invalid array\");\n    }\n\n    var ee = new _pondjs.IndexedEvent(e.index(), d);\n    return ee;\n  });\n}\n\nfunction getAggregatedSeries(series, column) {\n  var aggregation = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultAggregation;\n  var size = aggregation.size,\n      reducers = aggregation.reducers;\n  var inner = reducers.inner,\n      outer = reducers.outer,\n      center = reducers.center;\n\n  function mapColumn(c, r) {\n    var obj = {};\n    obj[c] = r;\n    return obj;\n  }\n\n  var fixedWindowAggregation = {};\n\n  if (inner) {\n    fixedWindowAggregation.innerMin = mapColumn(column, inner[0]);\n    fixedWindowAggregation.innerMax = mapColumn(column, inner[1]);\n  }\n\n  if (outer) {\n    fixedWindowAggregation.outerMin = mapColumn(column, outer[0]);\n    fixedWindowAggregation.outerMax = mapColumn(column, outer[1]);\n  }\n\n  if (center) {\n    fixedWindowAggregation.center = mapColumn(column, center);\n  }\n\n  var aggregatedSeries = series.fixedWindowRollup({\n    windowSize: size,\n    aggregation: fixedWindowAggregation\n  });\n  return aggregatedSeries;\n}\n/**\n * Renders a boxplot chart.\n *\n * The TimeSeries supplied to the boxplot, as the `series` prop can be one of two types:\n *\n *  1) It can be a TimeSeries containing IndexedEvents or TimeRangeEvents.\n *     In this case a `column` prop should be supplied to specify the\n *     data column containing the dimensions of the boxes. This props\n *     should be an array of size 1 to 5 elements. e.g. [12, 18, 22, 28]. The\n *     numbers should be ordered, lowest to greatest.\n *\n *  2) A TimeSeries containing timestamp based Events. In this case the\n *     boxplot will be aggregated for you. To control the aggregation you can supply\n *     an `aggregation` prop: a structure to specify the window size and\n *     reducers used to determine the boxes.\n *\n * In both cases you are generating up to two ranges and a center marker. In the\n * first case you are defining this based on the array of numbers. The outer numbers\n * specify the outerRange, the inner numbers specify the innerRange and the middle\n * number specifies the center marker. In the second case you are building those ranges\n * from denser data, specifying a window and aggregation functions to build each\n * of the ranges and center maker.\n *\n * In both cases you do not need to supply all the values. For example if you\n * provide an array of 2 elements, that would define a single range, with no outer range\n * and no center marker. The BoxChart is pretty flexible in that way, so you\n * can use it in many situations.\n *\n * Here is an example of using it to display temperature ranges. The series\n * passed to this code would be a TimeSeries containing IndexedEvents. For\n * each event, the column `temp` contains an array of values used for the\n * box plot ranges:\n *\n * ```\n *     <BoxChart\n *       axis=\"temperatureAxis\"\n *       style={style}\n *       column=\"temp\"\n *       series={series} />\n * ```\n *\n * While here is an example with a dense TimeSeries of Events supplied,\n * along with an aggregation specification. This code would produce an\n * outer range from the 5th percentile to the 95th, along with an inner\n * range for the interquantile, and a center marker at the median:\n *\n * ```\n *    <BoxChart\n *      axis=\"speedaxis\"\n *      series={speed}\n *      column=\"speed\"\n *      style={style}\n *      aggregation={{\n *        size: this.state.rollup,\n *        reducers: {\n *          outer: [percentile(5), percentile(95)],\n *          inner: [percentile(25), percentile(75)],\n *          center: median(),\n *        },\n *      }}\n *    />\n * ```\n *\n * The BoxChart supports Info boxes, highlighting and selection.\n *\n * Note: selection and highlighting is on the whole event, not individual ranges.\n * Also note that since the box chart builds an internal TimeSeries for performance\n * reasons, selection will give you and IndexedEvent, but it won't be the same\n * IndexedEvent in your `series`. Similarly if you are using the aggregation\n * specification you will get events for the rollup, not your original data.\n */\n\n\nvar BoxChart = function (_React$Component) {\n  _inherits(BoxChart, _React$Component);\n\n  function BoxChart(props) {\n    _classCallCheck(this, BoxChart);\n\n    var _this = _possibleConstructorReturn(this, (BoxChart.__proto__ || Object.getPrototypeOf(BoxChart)).call(this, props));\n\n    if (props.series._collection._type === _pondjs.TimeEvent // eslint-disable-line\n    ) {\n      _this.series = getAggregatedSeries(props.series, props.column, props.aggregation);\n    } else {\n      _this.series = getSeries(props.series, props.column);\n    }\n\n    return _this;\n  }\n\n  _createClass(BoxChart, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var aggregation = nextProps.aggregation;\n      var aggregationChanged = false;\n\n      if (_underscore2.default.isUndefined(aggregation) !== _underscore2.default.isUndefined(this.props.aggregation)) {\n        aggregationChanged = true;\n      }\n\n      if (aggregation && this.props.aggregation) {\n        if (aggregation.size !== this.props.aggregation.size) {\n          aggregationChanged = true;\n        }\n      }\n\n      if (aggregationChanged) {\n        this.series = getAggregatedSeries(nextProps.series, nextProps.column, nextProps.aggregation);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var newSeries = nextProps.series;\n      var oldSeries = this.props.series;\n      var width = nextProps.width;\n      var timeScale = nextProps.timeScale;\n      var yScale = nextProps.yScale;\n      var column = nextProps.column;\n      var style = nextProps.style;\n      var aggregation = nextProps.aggregation;\n      var highlighted = nextProps.highlighted;\n      var selected = nextProps.selected;\n      var widthChanged = this.props.width !== width;\n      var timeScaleChanged = (0, _util.scaleAsString)(this.props.timeScale) !== (0, _util.scaleAsString)(timeScale);\n      var yAxisScaleChanged = this.props.yScale !== yScale;\n      var columnChanged = this.props.column !== column;\n      var styleChanged = JSON.stringify(this.props.style) !== JSON.stringify(style);\n      var highlightedChanged = this.props.highlighted !== highlighted;\n      var selectedChanged = this.props.selected !== selected;\n      var aggregationChanged = false;\n\n      if (_underscore2.default.isUndefined(aggregation) !== _underscore2.default.isUndefined(this.props.aggregation)) {\n        aggregationChanged = true;\n      }\n\n      if (aggregation && this.props.aggregation) {\n        if (aggregation.size !== this.props.aggregation.size) {\n          aggregationChanged = true;\n        }\n      }\n\n      var seriesChanged = false;\n\n      if (oldSeries.size() !== newSeries.size()) {\n        seriesChanged = true;\n      } else {\n        seriesChanged = !_pondjs.TimeSeries.is(oldSeries, newSeries);\n      } // If the series changes we need to rebuild this.series with\n      // the incoming props\n\n\n      if (seriesChanged) {\n        if (nextProps.series._collection._type === _pondjs.TimeEvent // eslint-disable-line\n        ) {\n          this.series = getAggregatedSeries(nextProps.series, nextProps.column, nextProps.aggregation);\n        } else {\n          this.series = getSeries(nextProps.series, nextProps.column);\n        }\n      }\n\n      return seriesChanged || timeScaleChanged || widthChanged || columnChanged || styleChanged || yAxisScaleChanged || aggregationChanged || highlightedChanged || selectedChanged;\n    }\n  }, {\n    key: \"handleHover\",\n    value: function handleHover(e, event) {\n      if (this.props.onHighlightChange) {\n        this.props.onHighlightChange(event);\n      }\n    }\n  }, {\n    key: \"handleHoverLeave\",\n    value: function handleHoverLeave() {\n      if (this.props.onHighlightChange) {\n        this.props.onHighlightChange(null);\n      }\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e, event) {\n      if (this.props.onSelectionChange) {\n        this.props.onSelectionChange(event);\n      }\n\n      e.stopPropagation();\n    }\n  }, {\n    key: \"providedStyleArray\",\n    value: function providedStyleArray(column) {\n      var style = {};\n\n      if (this.props.style) {\n        if (this.props.style instanceof _styler.Styler) {\n          style = this.props.style.boxChartStyle()[column];\n        } else if (_underscore2.default.isFunction(this.props.style)) {\n          style = this.props.style(column);\n        } else if (_underscore2.default.isObject(this.props.style)) {\n          style = this.props.style ? this.props.style[column] : defaultStyle;\n        }\n      }\n\n      return style;\n    }\n    /**\n     * Returns the style used for drawing the path\n     */\n\n  }, {\n    key: \"style\",\n    value: function style(column, event, level) {\n      var style = void 0;\n\n      if (!this.providedStyle) {\n        this.providedStyle = this.providedStyleArray(this.props.column);\n      }\n\n      if (!_underscore2.default.isNull(this.providedStyle) && (!_underscore2.default.isArray(this.providedStyle) || this.providedStyle.length !== 3)) {\n        console.warn(\"Provided style to BoxChart should be an array of 3 objects\");\n        return defaultStyle;\n      }\n\n      var isHighlighted = this.props.highlighted && _pondjs.Event.is(this.props.highlighted, event);\n\n      var isSelected = this.props.selected && _pondjs.Event.is(this.props.selected, event);\n\n      if (this.props.selected) {\n        if (isSelected) {\n          if (!this.selectedStyle || !this.selectedStyle[level]) {\n            if (!this.selectedStyle) {\n              this.selectedStyle = [];\n            }\n\n            this.selectedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].selected, this.providedStyle[level].selected ? this.providedStyle[level].selected : {});\n          }\n\n          style = this.selectedStyle[level];\n        } else if (isHighlighted) {\n          if (!this.highlightedStyle || !this.highlightedStyle[level]) {\n            if (!this.highlightedStyle) {\n              this.highlightedStyle = [];\n            }\n\n            this.highlightedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].highlighted, this.providedStyle[level].highlighted ? this.providedStyle[level].highlighted : {});\n          }\n\n          style = this.highlightedStyle[level];\n        } else {\n          if (!this.mutedStyle) {\n            this.mutedStyle = [];\n          }\n\n          if (!this.mutedStyle[level]) {\n            this.mutedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].muted, this.providedStyle[level].muted ? this.providedStyle[level].muted : {});\n          }\n\n          style = this.mutedStyle[level];\n        }\n      } else if (isHighlighted) {\n        style = (0, _merge2.default)(true, defaultStyle[level].highlighted, this.providedStyle[level].highlighted ? this.providedStyle[level].highlighted : {});\n      } else {\n        if (!this.normalStyle) {\n          this.normalStyle = [];\n        }\n\n        if (!this.normalStyle[level]) {\n          this.normalStyle[level] = (0, _merge2.default)(true, defaultStyle[level].normal, this.providedStyle[level].normal ? this.providedStyle[level].normal : {});\n        }\n\n        style = this.normalStyle[level];\n      }\n\n      return style;\n    }\n  }, {\n    key: \"renderBars\",\n    value: function renderBars() {\n      var _this2 = this;\n\n      var _props = this.props,\n          timeScale = _props.timeScale,\n          yScale = _props.yScale,\n          column = _props.column;\n      var innerSpacing = +this.props.innerSpacing;\n      var outerSpacing = +this.props.outerSpacing;\n      var innerSize = +this.props.innerSize;\n      var outerSize = +this.props.outerSize;\n      var bars = [];\n      var eventMarker = void 0;\n\n      var scaled = function scaled(d, field) {\n        return d.has(field) && !_underscore2.default.isUndefined(d.get(field)) && !_underscore2.default.isNaN(d.get(field)) ? yScale(d.get(field)) : null;\n      };\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        var _loop = function _loop() {\n          var event = _step.value;\n          var index = event.index();\n          var begin = event.begin();\n          var end = event.end();\n          var d = event.data();\n          var beginPosInner = timeScale(begin) + innerSpacing;\n          var endPosInner = timeScale(end) - innerSpacing;\n          var beginPosOuter = timeScale(begin) + outerSpacing;\n          var endPosOuter = timeScale(end) - outerSpacing;\n          var innerWidth = innerSize || endPosInner - beginPosInner;\n\n          if (innerWidth < 1) {\n            innerWidth = 1;\n          }\n\n          var outerWidth = outerSize || endPosOuter - beginPosOuter;\n\n          if (outerWidth < 1) {\n            outerWidth = 1;\n          }\n\n          var c = timeScale(begin) + (timeScale(end) - timeScale(begin)) / 2;\n          var xInner = timeScale(begin) + innerSpacing;\n\n          if (innerSize) {\n            xInner = c - innerSize / 2;\n          }\n\n          var xOuter = timeScale(begin) + outerSpacing;\n\n          if (outerSize) {\n            xOuter = c - outerSize / 2;\n          }\n\n          var styles = [];\n          styles[0] = _this2.style(column, event, 0);\n          styles[1] = _this2.style(column, event, 1);\n          styles[2] = _this2.style(column, event, 2);\n          var innerMin = scaled(d, \"innerMin\");\n          var innerMax = scaled(d, \"innerMax\");\n          var outerMin = scaled(d, \"outerMin\");\n          var outerMax = scaled(d, \"outerMax\");\n          var center = scaled(d, \"center\");\n          var hasInner = true;\n          var hasOuter = true;\n          var hasCenter = true;\n\n          if (_underscore2.default.isNull(innerMin) || _underscore2.default.isNull(innerMax)) {\n            hasInner = false;\n          }\n\n          if (_underscore2.default.isNull(outerMin) || _underscore2.default.isNull(outerMax)) {\n            hasOuter = false;\n          }\n\n          if (_underscore2.default.isNull(center)) {\n            hasCenter = false;\n          }\n\n          var ymax = 0;\n\n          if (hasOuter) {\n            var level = 0;\n\n            if (!hasInner) {\n              level += 1;\n            }\n\n            if (!hasCenter) {\n              level += 1;\n            }\n\n            var keyOuter = (_this2.series.name() ? _this2.series.name() : \"series\") + \"-\" + index + \"-outer\";\n            var boxOuter = {\n              x: xOuter,\n              y: outerMax,\n              width: outerWidth,\n              height: outerMin - outerMax,\n              rx: 2,\n              ry: 2\n            };\n\n            var barOuterProps = _extends({\n              key: keyOuter\n            }, boxOuter, {\n              style: styles[level]\n            });\n\n            if (_this2.props.onSelectionChange) {\n              barOuterProps.onClick = function (e) {\n                return _this2.handleClick(e, event);\n              };\n            }\n\n            if (_this2.props.onHighlightChange) {\n              barOuterProps.onMouseMove = function (e) {\n                return _this2.handleHover(e, event);\n              };\n\n              barOuterProps.onMouseLeave = function () {\n                return _this2.handleHoverLeave();\n              };\n            }\n\n            bars.push(_react2.default.createElement(\"rect\", barOuterProps));\n            ymax = \"outerMax\";\n          }\n\n          if (hasInner) {\n            var _level = 1;\n\n            if (!hasCenter) {\n              _level += 1;\n            }\n\n            var keyInner = _this2.series.name() + \"-\" + index + \"-inner\";\n            var boxInner = {\n              x: xInner,\n              y: innerMax,\n              width: innerWidth,\n              height: innerMin - innerMax,\n              rx: 1,\n              ry: 1\n            };\n\n            var barInnerProps = _extends({\n              key: keyInner\n            }, boxInner, {\n              style: styles[_level]\n            });\n\n            if (_this2.props.onSelectionChange) {\n              barInnerProps.onClick = function (e) {\n                return _this2.handleClick(e, event);\n              };\n            }\n\n            if (_this2.props.onHighlightChange) {\n              barInnerProps.onMouseMove = function (e) {\n                return _this2.handleHover(e, event);\n              };\n\n              barInnerProps.onMouseLeave = function () {\n                return _this2.handleHoverLeave();\n              };\n            }\n\n            bars.push(_react2.default.createElement(\"rect\", barInnerProps));\n            ymax = ymax || \"innerMax\";\n          }\n\n          if (hasCenter) {\n            var _level2 = 2;\n            var keyCenter = _this2.series.name() + \"-\" + index + \"-center\";\n            var boxCenter = {\n              x: xInner,\n              y: center,\n              width: innerWidth,\n              height: 1\n            };\n\n            var barCenterProps = _extends({\n              key: keyCenter\n            }, boxCenter, {\n              style: styles[_level2]\n            });\n\n            if (_this2.props.onSelectionChange) {\n              barCenterProps.onClick = function (e) {\n                return _this2.handleClick(e, event);\n              };\n            }\n\n            if (_this2.props.onHighlightChange) {\n              barCenterProps.onMouseMove = function (e) {\n                return _this2.handleHover(e, event);\n              };\n\n              barCenterProps.onMouseLeave = function () {\n                return _this2.handleHoverLeave();\n              };\n            }\n\n            if (_underscore2.default.isNaN(barCenterProps.y)) {\n              console.log(d.toString());\n            }\n\n            bars.push(_react2.default.createElement(\"rect\", barCenterProps));\n            ymax = ymax || \"center\";\n          } // Event marker if info provided and hovering\n\n\n          var isHighlighted = _this2.props.highlighted && _pondjs.Event.is(_this2.props.highlighted, event);\n\n          if (isHighlighted && _this2.props.info) {\n            eventMarker = _react2.default.createElement(_EventMarker2.default, _extends({}, _this2.props, {\n              yValueFunc: function yValueFunc(e) {\n                return e.get(ymax);\n              },\n              event: event,\n              column: column,\n              marker: \"circle\",\n              markerRadius: 2\n            }));\n          }\n        };\n\n        for (var _iterator = this.series.events()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          _loop();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return _react2.default.createElement(\"g\", null, bars, eventMarker);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(\"g\", null, this.renderBars());\n    }\n  }]);\n\n  return BoxChart;\n}(_react2.default.Component);\n\nexports.default = BoxChart;\nBoxChart.propTypes = {\n  /**\n   * Show or hide this chart\n   */\n  visible: _propTypes2.default.bool,\n\n  /**\n   * What [Pond TimeSeries](https://esnet-pondjs.appspot.com/#/timeseries)\n   * data to visualize. See general notes on the BoxChart.\n   */\n  series: function series(props, propName, componentName) {\n    var value = props[propName];\n\n    if (!(value instanceof _pondjs.TimeSeries)) {\n      return new Error(\"A TimeSeries needs to be passed to \" + componentName + \" as the 'series' prop.\");\n    } // TODO: Better detection of errors\n    // everything ok\n\n\n    return null;\n  },\n\n  /**\n   * The column within the TimeSeries to plot. Unlike other charts, the BoxChart\n   * works on just a single column.\n   *\n   * NOTE : Columns can't have periods because periods\n   * represent a path to deep data in the underlying events\n   * (i.e. reference into nested data structures)\n   */\n  column: _propTypes2.default.string,\n\n  /**\n   * The aggregation specification. This object should contain:\n   *   - innerMax\n   *   - innerMin\n   *   - outerMax\n   *   - outerMin\n   *   - center\n   * Though each of the pairs, and center, is optional.\n   * For each of these keys you should supply the function you\n   * want to use to calculate these. You can import common functions\n   * from Pond, e.g. min(), avg(), percentile(95), etc.\n   *\n   * For example:\n   * ```\n   *     {\n   *       size: this.state.rollup,\n   *       reducers: {\n   *         outer: [min(), max()],\n   *         inner: [percentile(25), percentile(75)],\n   *         center: median(),\n   *       },\n   *     }\n   * ```\n   */\n  aggregation: _propTypes2.default.shape({\n    size: _propTypes2.default.string,\n    reducers: _propTypes2.default.shape({\n      inner: _propTypes2.default.arrayOf(_propTypes2.default.func),\n      // eslint-disable-line\n      outer: _propTypes2.default.arrayOf(_propTypes2.default.func),\n      // eslint-disable-line\n      center: _propTypes2.default.func // eslint-disable-line\n\n    })\n  }),\n  // eslint-disable-line\n\n  /**\n   * The style of the box chart drawing (using SVG CSS properties) or\n   * a styler object. It is recommended to user the styler unless you need\n   * detailed customization.\n   */\n  style: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func, _propTypes2.default.instanceOf(_styler.Styler)]),\n\n  /**\n   * The style of the info box and connecting lines\n   */\n  infoStyle: _propTypes2.default.object,\n  //eslint-disable-line\n\n  /**\n   * The width of the hover info box\n   */\n  infoWidth: _propTypes2.default.number,\n  //eslint-disable-line\n\n  /**\n   * The height of the hover info box\n   */\n  infoHeight: _propTypes2.default.number,\n  //eslint-disable-line\n\n  /**\n   * The vertical offset in pixels of the EventMarker info box from the\n   * top of the chart.\n   */\n  infoOffsetY: _propTypes2.default.number,\n\n  /**\n   * The values to show in the info box. This is an array of\n   * objects, with each object specifying the label and value\n   * to be shown in the info box.\n   */\n  info: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    //eslint-disable-line\n    label: _propTypes2.default.string,\n    //eslint-disable-line\n    value: _propTypes2.default.string //eslint-disable-line\n\n  })),\n\n  /**\n   * If spacing is specified, then the boxes will be separated from the\n   * timerange boundary by this number of pixels. Use this to space out\n   * the boxes from each other. Inner and outer boxes are controlled\n   * separately.\n   */\n  innerSpacing: _propTypes2.default.number,\n\n  /**\n   * If spacing is specified, then the boxes will be separated from the\n   * timerange boundary by this number of pixels. Use this to space out\n   * the boxes from each other. Inner and outer boxes are controlled\n   * separately.\n   */\n  outerSpacing: _propTypes2.default.number,\n\n  /**\n   * If size is specified, then the innerBox will be this number of pixels wide. This\n   * prop takes priority over \"spacing\".\n   */\n  innerSize: _propTypes2.default.number,\n\n  /**\n   * If size is specified, then the outer box will be this number of pixels wide. This\n   * prop takes priority over \"spacing\".\n   */\n  outerSize: _propTypes2.default.number,\n\n  /**\n   * The selected item, which will be rendered in the \"selected\" style.\n   * If a bar is selected, all other bars will be rendered in the \"muted\" style.\n   *\n   * See also `onSelectionChange`\n   */\n  selected: _propTypes2.default.instanceOf(_pondjs.IndexedEvent),\n\n  /**\n   * The highlighted item, which will be rendered in the \"highlighted\" style.\n   *\n   * See also `onHighlightChange`\n   */\n  highlighted: _propTypes2.default.instanceOf(_pondjs.IndexedEvent),\n\n  /**\n   * A callback that will be called when the selection changes. It will be called\n   * with the event corresponding to the box clicked as its only arg.\n   */\n  onSelectionChange: _propTypes2.default.func,\n\n  /**\n   * A callback that will be called when the hovered over box changes.\n   * It will be called with the event corresponding to the box hovered over.\n   */\n  onHighlightChange: _propTypes2.default.func,\n\n  /**\n   * [Internal] The timeScale supplied by the surrounding ChartContainer\n   */\n  timeScale: _propTypes2.default.func,\n\n  /**\n   * [Internal] The yScale supplied by the associated YAxis\n   */\n  yScale: _propTypes2.default.func,\n\n  /**\n   * [Internal] The width supplied by the surrounding ChartContainer\n   */\n  width: _propTypes2.default.number\n};\nBoxChart.defaultProps = {\n  visible: true,\n  column: \"value\",\n  innerSpacing: 1.0,\n  outerSpacing: 2.0,\n  infoStyle: {\n    stroke: \"#999\",\n    fill: \"white\",\n    opacity: 0.9,\n    pointerEvents: \"none\"\n  },\n  stemStyle: {\n    stroke: \"#999\",\n    cursor: \"crosshair\",\n    pointerEvents: \"none\"\n  },\n  markerStyle: {\n    fill: \"#999\"\n  },\n  markerRadius: 2,\n  infoWidth: 90,\n  infoHeight: 30,\n  infoOffsetY: 20\n};","map":{"version":3,"sources":["/Users/nicholasraffone/Documents/swefall2021/finalproj/FinancialSentiment/fin_sentiment_front/node_modules/react-timeseries-charts/lib/components/BoxChart.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_extends","assign","arguments","source","hasOwnProperty","call","_underscore","require","_underscore2","_interopRequireDefault","_merge","_merge2","_react","_react2","_propTypes","_propTypes2","_pondjs","_EventMarker","_EventMarker2","_styler","_util","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","defaultFillStyle","fill","stroke","defaultMutedStyle","defaultStyle","normal","opacity","highlighted","selected","muted","defaultAggregation","size","reducers","outer","min","max","inner","percentile","center","median","getSeries","series","column","map","e","v","get","d","innerMin","innerMax","outerMin","outerMax","console","error","ee","IndexedEvent","index","getAggregatedSeries","aggregation","undefined","mapColumn","c","r","fixedWindowAggregation","aggregatedSeries","fixedWindowRollup","windowSize","BoxChart","_React$Component","_this","getPrototypeOf","_collection","_type","TimeEvent","componentWillReceiveProps","nextProps","aggregationChanged","isUndefined","shouldComponentUpdate","newSeries","oldSeries","width","timeScale","yScale","style","widthChanged","timeScaleChanged","scaleAsString","yAxisScaleChanged","columnChanged","styleChanged","JSON","stringify","highlightedChanged","selectedChanged","seriesChanged","TimeSeries","is","handleHover","event","onHighlightChange","handleHoverLeave","handleClick","onSelectionChange","stopPropagation","providedStyleArray","Styler","boxChartStyle","isFunction","isObject","level","providedStyle","isNull","isArray","warn","isHighlighted","Event","isSelected","selectedStyle","highlightedStyle","mutedStyle","normalStyle","renderBars","_this2","_props","innerSpacing","outerSpacing","innerSize","outerSize","bars","eventMarker","scaled","field","has","isNaN","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_loop","_step","begin","end","data","beginPosInner","endPosInner","beginPosOuter","endPosOuter","innerWidth","outerWidth","xInner","xOuter","styles","hasInner","hasOuter","hasCenter","ymax","keyOuter","name","boxOuter","x","y","height","rx","ry","barOuterProps","onClick","onMouseMove","onMouseLeave","push","createElement","_level","keyInner","boxInner","barInnerProps","_level2","keyCenter","boxCenter","barCenterProps","log","toString","info","yValueFunc","marker","markerRadius","_iterator","events","Symbol","iterator","next","done","err","return","render","Component","propTypes","visible","bool","propName","componentName","Error","string","shape","arrayOf","func","oneOfType","object","instanceOf","infoStyle","infoWidth","number","infoHeight","infoOffsetY","label","defaultProps","pointerEvents","stemStyle","cursor","markerStyle"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   *  Copyright (c) 2015-present, The Regents of the University of California,\n                                                                                                                                                                                                                                                                   *  through Lawrence Berkeley National Laboratory (subject to receipt\n                                                                                                                                                                                                                                                                   *  of any required approvals from the U.S. Dept. of Energy).\n                                                                                                                                                                                                                                                                   *  All rights reserved.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   *  This source code is licensed under the BSD-style license found in the\n                                                                                                                                                                                                                                                                   *  LICENSE file in the root directory of this source tree.\n                                                                                                                                                                                                                                                                   */\n\nvar _underscore = require(\"underscore\");\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _merge = require(\"merge\");\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _pondjs = require(\"pondjs\");\n\nvar _EventMarker = require(\"./EventMarker\");\n\nvar _EventMarker2 = _interopRequireDefault(_EventMarker);\n\nvar _styler = require(\"../js/styler\");\n\nvar _util = require(\"../js/util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar defaultFillStyle = {\n    fill: \"steelblue\",\n    stroke: \"none\"\n};\n\nvar defaultMutedStyle = {\n    fill: \"grey\",\n    stroke: \"none\"\n};\n\nvar defaultStyle = [{\n    normal: _extends({}, defaultFillStyle, { opacity: 0.2 }),\n    highlighted: _extends({}, defaultFillStyle, { opacity: 0.3 }),\n    selected: _extends({}, defaultFillStyle, { opacity: 0.3 }),\n    muted: _extends({}, defaultMutedStyle, { opacity: 0.1 })\n}, {\n    normal: _extends({}, defaultFillStyle, { opacity: 0.5 }),\n    highlighted: _extends({}, defaultFillStyle, { opacity: 0.6 }),\n    selected: _extends({}, defaultFillStyle, { opacity: 0.6 }),\n    muted: _extends({}, defaultMutedStyle, { opacity: 0.2 })\n}, {\n    normal: _extends({}, defaultFillStyle, { opacity: 0.9 }),\n    highlighted: _extends({}, defaultFillStyle, { opacity: 1.0 }),\n    selected: _extends({}, defaultFillStyle, { opacity: 1.0 }),\n    muted: _extends({}, defaultMutedStyle, { opacity: 0.2 })\n}];\n\nvar defaultAggregation = {\n    size: \"5m\",\n    reducers: {\n        outer: [(0, _pondjs.min)(), (0, _pondjs.max)()],\n        inner: [(0, _pondjs.percentile)(25), (0, _pondjs.percentile)(75)],\n        center: (0, _pondjs.median)()\n    }\n};\n\nfunction getSeries(series, column) {\n    return series.map(function (e) {\n        var v = e.get(column);\n        var d = {};\n        switch (v.length) {\n            case 1:\n                d.center = v[0];\n                break;\n            case 2:\n                d.innerMin = v[0];\n                d.innerMax = v[1];\n                break;\n            case 3:\n                d.innerMin = v[0];\n                d.center = v[1];\n                d.innerMax = v[2];\n                break;\n            case 4:\n                d.outerMin = v[0];\n                d.innerMin = v[1];\n                d.innerMax = v[2];\n                d.outerMax = v[3];\n                break;\n            case 5:\n                d.outerMin = v[0];\n                d.innerMin = v[1];\n                d.center = v[2];\n                d.innerMax = v[3];\n                d.outerMax = v[4];\n                break;\n            default:\n                console.error(\"Tried to make boxchart from invalid array\");\n        }\n        var ee = new _pondjs.IndexedEvent(e.index(), d);\n        return ee;\n    });\n}\n\nfunction getAggregatedSeries(series, column) {\n    var aggregation = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultAggregation;\n    var size = aggregation.size,\n        reducers = aggregation.reducers;\n    var inner = reducers.inner,\n        outer = reducers.outer,\n        center = reducers.center;\n\n\n    function mapColumn(c, r) {\n        var obj = {};\n        obj[c] = r;\n        return obj;\n    }\n\n    var fixedWindowAggregation = {};\n\n    if (inner) {\n        fixedWindowAggregation.innerMin = mapColumn(column, inner[0]);\n        fixedWindowAggregation.innerMax = mapColumn(column, inner[1]);\n    }\n\n    if (outer) {\n        fixedWindowAggregation.outerMin = mapColumn(column, outer[0]);\n        fixedWindowAggregation.outerMax = mapColumn(column, outer[1]);\n    }\n\n    if (center) {\n        fixedWindowAggregation.center = mapColumn(column, center);\n    }\n\n    var aggregatedSeries = series.fixedWindowRollup({\n        windowSize: size,\n        aggregation: fixedWindowAggregation\n    });\n\n    return aggregatedSeries;\n}\n\n/**\n * Renders a boxplot chart.\n *\n * The TimeSeries supplied to the boxplot, as the `series` prop can be one of two types:\n *\n *  1) It can be a TimeSeries containing IndexedEvents or TimeRangeEvents.\n *     In this case a `column` prop should be supplied to specify the\n *     data column containing the dimensions of the boxes. This props\n *     should be an array of size 1 to 5 elements. e.g. [12, 18, 22, 28]. The\n *     numbers should be ordered, lowest to greatest.\n *\n *  2) A TimeSeries containing timestamp based Events. In this case the\n *     boxplot will be aggregated for you. To control the aggregation you can supply\n *     an `aggregation` prop: a structure to specify the window size and\n *     reducers used to determine the boxes.\n *\n * In both cases you are generating up to two ranges and a center marker. In the\n * first case you are defining this based on the array of numbers. The outer numbers\n * specify the outerRange, the inner numbers specify the innerRange and the middle\n * number specifies the center marker. In the second case you are building those ranges\n * from denser data, specifying a window and aggregation functions to build each\n * of the ranges and center maker.\n *\n * In both cases you do not need to supply all the values. For example if you\n * provide an array of 2 elements, that would define a single range, with no outer range\n * and no center marker. The BoxChart is pretty flexible in that way, so you\n * can use it in many situations.\n *\n * Here is an example of using it to display temperature ranges. The series\n * passed to this code would be a TimeSeries containing IndexedEvents. For\n * each event, the column `temp` contains an array of values used for the\n * box plot ranges:\n *\n * ```\n *     <BoxChart\n *       axis=\"temperatureAxis\"\n *       style={style}\n *       column=\"temp\"\n *       series={series} />\n * ```\n *\n * While here is an example with a dense TimeSeries of Events supplied,\n * along with an aggregation specification. This code would produce an\n * outer range from the 5th percentile to the 95th, along with an inner\n * range for the interquantile, and a center marker at the median:\n *\n * ```\n *    <BoxChart\n *      axis=\"speedaxis\"\n *      series={speed}\n *      column=\"speed\"\n *      style={style}\n *      aggregation={{\n *        size: this.state.rollup,\n *        reducers: {\n *          outer: [percentile(5), percentile(95)],\n *          inner: [percentile(25), percentile(75)],\n *          center: median(),\n *        },\n *      }}\n *    />\n * ```\n *\n * The BoxChart supports Info boxes, highlighting and selection.\n *\n * Note: selection and highlighting is on the whole event, not individual ranges.\n * Also note that since the box chart builds an internal TimeSeries for performance\n * reasons, selection will give you and IndexedEvent, but it won't be the same\n * IndexedEvent in your `series`. Similarly if you are using the aggregation\n * specification you will get events for the rollup, not your original data.\n */\n\nvar BoxChart = function (_React$Component) {\n    _inherits(BoxChart, _React$Component);\n\n    function BoxChart(props) {\n        _classCallCheck(this, BoxChart);\n\n        var _this = _possibleConstructorReturn(this, (BoxChart.__proto__ || Object.getPrototypeOf(BoxChart)).call(this, props));\n\n        if (props.series._collection._type === _pondjs.TimeEvent // eslint-disable-line\n        ) {\n                _this.series = getAggregatedSeries(props.series, props.column, props.aggregation);\n            } else {\n            _this.series = getSeries(props.series, props.column);\n        }\n        return _this;\n    }\n\n    _createClass(BoxChart, [{\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(nextProps) {\n            var aggregation = nextProps.aggregation;\n\n            var aggregationChanged = false;\n            if (_underscore2.default.isUndefined(aggregation) !== _underscore2.default.isUndefined(this.props.aggregation)) {\n                aggregationChanged = true;\n            }\n\n            if (aggregation && this.props.aggregation) {\n                if (aggregation.size !== this.props.aggregation.size) {\n                    aggregationChanged = true;\n                }\n            }\n\n            if (aggregationChanged) {\n                this.series = getAggregatedSeries(nextProps.series, nextProps.column, nextProps.aggregation);\n            }\n        }\n    }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps) {\n            var newSeries = nextProps.series;\n            var oldSeries = this.props.series;\n            var width = nextProps.width;\n            var timeScale = nextProps.timeScale;\n            var yScale = nextProps.yScale;\n            var column = nextProps.column;\n            var style = nextProps.style;\n            var aggregation = nextProps.aggregation;\n            var highlighted = nextProps.highlighted;\n            var selected = nextProps.selected;\n\n            var widthChanged = this.props.width !== width;\n            var timeScaleChanged = (0, _util.scaleAsString)(this.props.timeScale) !== (0, _util.scaleAsString)(timeScale);\n            var yAxisScaleChanged = this.props.yScale !== yScale;\n            var columnChanged = this.props.column !== column;\n            var styleChanged = JSON.stringify(this.props.style) !== JSON.stringify(style);\n            var highlightedChanged = this.props.highlighted !== highlighted;\n            var selectedChanged = this.props.selected !== selected;\n\n            var aggregationChanged = false;\n            if (_underscore2.default.isUndefined(aggregation) !== _underscore2.default.isUndefined(this.props.aggregation)) {\n                aggregationChanged = true;\n            }\n\n            if (aggregation && this.props.aggregation) {\n                if (aggregation.size !== this.props.aggregation.size) {\n                    aggregationChanged = true;\n                }\n            }\n\n            var seriesChanged = false;\n            if (oldSeries.size() !== newSeries.size()) {\n                seriesChanged = true;\n            } else {\n                seriesChanged = !_pondjs.TimeSeries.is(oldSeries, newSeries);\n            }\n\n            // If the series changes we need to rebuild this.series with\n            // the incoming props\n            if (seriesChanged) {\n                if (nextProps.series._collection._type === _pondjs.TimeEvent // eslint-disable-line\n                ) {\n                        this.series = getAggregatedSeries(nextProps.series, nextProps.column, nextProps.aggregation);\n                    } else {\n                    this.series = getSeries(nextProps.series, nextProps.column);\n                }\n            }\n\n            return seriesChanged || timeScaleChanged || widthChanged || columnChanged || styleChanged || yAxisScaleChanged || aggregationChanged || highlightedChanged || selectedChanged;\n        }\n    }, {\n        key: \"handleHover\",\n        value: function handleHover(e, event) {\n            if (this.props.onHighlightChange) {\n                this.props.onHighlightChange(event);\n            }\n        }\n    }, {\n        key: \"handleHoverLeave\",\n        value: function handleHoverLeave() {\n            if (this.props.onHighlightChange) {\n                this.props.onHighlightChange(null);\n            }\n        }\n    }, {\n        key: \"handleClick\",\n        value: function handleClick(e, event) {\n            if (this.props.onSelectionChange) {\n                this.props.onSelectionChange(event);\n            }\n            e.stopPropagation();\n        }\n    }, {\n        key: \"providedStyleArray\",\n        value: function providedStyleArray(column) {\n            var style = {};\n            if (this.props.style) {\n                if (this.props.style instanceof _styler.Styler) {\n                    style = this.props.style.boxChartStyle()[column];\n                } else if (_underscore2.default.isFunction(this.props.style)) {\n                    style = this.props.style(column);\n                } else if (_underscore2.default.isObject(this.props.style)) {\n                    style = this.props.style ? this.props.style[column] : defaultStyle;\n                }\n            }\n            return style;\n        }\n\n        /**\n         * Returns the style used for drawing the path\n         */\n\n    }, {\n        key: \"style\",\n        value: function style(column, event, level) {\n            var style = void 0;\n            if (!this.providedStyle) {\n                this.providedStyle = this.providedStyleArray(this.props.column);\n            }\n\n            if (!_underscore2.default.isNull(this.providedStyle) && (!_underscore2.default.isArray(this.providedStyle) || this.providedStyle.length !== 3)) {\n                console.warn(\"Provided style to BoxChart should be an array of 3 objects\");\n                return defaultStyle;\n            }\n\n            var isHighlighted = this.props.highlighted && _pondjs.Event.is(this.props.highlighted, event);\n\n            var isSelected = this.props.selected && _pondjs.Event.is(this.props.selected, event);\n\n            if (this.props.selected) {\n                if (isSelected) {\n                    if (!this.selectedStyle || !this.selectedStyle[level]) {\n                        if (!this.selectedStyle) {\n                            this.selectedStyle = [];\n                        }\n                        this.selectedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].selected, this.providedStyle[level].selected ? this.providedStyle[level].selected : {});\n                    }\n                    style = this.selectedStyle[level];\n                } else if (isHighlighted) {\n                    if (!this.highlightedStyle || !this.highlightedStyle[level]) {\n                        if (!this.highlightedStyle) {\n                            this.highlightedStyle = [];\n                        }\n                        this.highlightedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].highlighted, this.providedStyle[level].highlighted ? this.providedStyle[level].highlighted : {});\n                    }\n                    style = this.highlightedStyle[level];\n                } else {\n                    if (!this.mutedStyle) {\n                        this.mutedStyle = [];\n                    }\n                    if (!this.mutedStyle[level]) {\n                        this.mutedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].muted, this.providedStyle[level].muted ? this.providedStyle[level].muted : {});\n                    }\n                    style = this.mutedStyle[level];\n                }\n            } else if (isHighlighted) {\n                style = (0, _merge2.default)(true, defaultStyle[level].highlighted, this.providedStyle[level].highlighted ? this.providedStyle[level].highlighted : {});\n            } else {\n                if (!this.normalStyle) {\n                    this.normalStyle = [];\n                }\n                if (!this.normalStyle[level]) {\n                    this.normalStyle[level] = (0, _merge2.default)(true, defaultStyle[level].normal, this.providedStyle[level].normal ? this.providedStyle[level].normal : {});\n                }\n                style = this.normalStyle[level];\n            }\n            return style;\n        }\n    }, {\n        key: \"renderBars\",\n        value: function renderBars() {\n            var _this2 = this;\n\n            var _props = this.props,\n                timeScale = _props.timeScale,\n                yScale = _props.yScale,\n                column = _props.column;\n\n\n            var innerSpacing = +this.props.innerSpacing;\n            var outerSpacing = +this.props.outerSpacing;\n            var innerSize = +this.props.innerSize;\n            var outerSize = +this.props.outerSize;\n\n            var bars = [];\n            var eventMarker = void 0;\n\n            var scaled = function scaled(d, field) {\n                return d.has(field) && !_underscore2.default.isUndefined(d.get(field)) && !_underscore2.default.isNaN(d.get(field)) ? yScale(d.get(field)) : null;\n            };\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                var _loop = function _loop() {\n                    var event = _step.value;\n\n                    var index = event.index();\n                    var begin = event.begin();\n                    var end = event.end();\n                    var d = event.data();\n\n                    var beginPosInner = timeScale(begin) + innerSpacing;\n                    var endPosInner = timeScale(end) - innerSpacing;\n\n                    var beginPosOuter = timeScale(begin) + outerSpacing;\n                    var endPosOuter = timeScale(end) - outerSpacing;\n\n                    var innerWidth = innerSize || endPosInner - beginPosInner;\n                    if (innerWidth < 1) {\n                        innerWidth = 1;\n                    }\n\n                    var outerWidth = outerSize || endPosOuter - beginPosOuter;\n                    if (outerWidth < 1) {\n                        outerWidth = 1;\n                    }\n\n                    var c = timeScale(begin) + (timeScale(end) - timeScale(begin)) / 2;\n\n                    var xInner = timeScale(begin) + innerSpacing;\n                    if (innerSize) {\n                        xInner = c - innerSize / 2;\n                    }\n\n                    var xOuter = timeScale(begin) + outerSpacing;\n                    if (outerSize) {\n                        xOuter = c - outerSize / 2;\n                    }\n\n                    var styles = [];\n                    styles[0] = _this2.style(column, event, 0);\n                    styles[1] = _this2.style(column, event, 1);\n                    styles[2] = _this2.style(column, event, 2);\n\n                    var innerMin = scaled(d, \"innerMin\");\n                    var innerMax = scaled(d, \"innerMax\");\n                    var outerMin = scaled(d, \"outerMin\");\n                    var outerMax = scaled(d, \"outerMax\");\n                    var center = scaled(d, \"center\");\n\n                    var hasInner = true;\n                    var hasOuter = true;\n                    var hasCenter = true;\n                    if (_underscore2.default.isNull(innerMin) || _underscore2.default.isNull(innerMax)) {\n                        hasInner = false;\n                    }\n                    if (_underscore2.default.isNull(outerMin) || _underscore2.default.isNull(outerMax)) {\n                        hasOuter = false;\n                    }\n                    if (_underscore2.default.isNull(center)) {\n                        hasCenter = false;\n                    }\n\n                    var ymax = 0;\n                    if (hasOuter) {\n                        var level = 0;\n                        if (!hasInner) {\n                            level += 1;\n                        }\n                        if (!hasCenter) {\n                            level += 1;\n                        }\n                        var keyOuter = (_this2.series.name() ? _this2.series.name() : \"series\") + \"-\" + index + \"-outer\";\n                        var boxOuter = {\n                            x: xOuter,\n                            y: outerMax,\n                            width: outerWidth,\n                            height: outerMin - outerMax,\n                            rx: 2,\n                            ry: 2\n                        };\n                        var barOuterProps = _extends({\n                            key: keyOuter\n                        }, boxOuter, {\n                            style: styles[level]\n                        });\n\n                        if (_this2.props.onSelectionChange) {\n                            barOuterProps.onClick = function (e) {\n                                return _this2.handleClick(e, event);\n                            };\n                        }\n                        if (_this2.props.onHighlightChange) {\n                            barOuterProps.onMouseMove = function (e) {\n                                return _this2.handleHover(e, event);\n                            };\n                            barOuterProps.onMouseLeave = function () {\n                                return _this2.handleHoverLeave();\n                            };\n                        }\n\n                        bars.push(_react2.default.createElement(\"rect\", barOuterProps));\n                        ymax = \"outerMax\";\n                    }\n\n                    if (hasInner) {\n                        var _level = 1;\n                        if (!hasCenter) {\n                            _level += 1;\n                        }\n                        var keyInner = _this2.series.name() + \"-\" + index + \"-inner\";\n                        var boxInner = {\n                            x: xInner,\n                            y: innerMax,\n                            width: innerWidth,\n                            height: innerMin - innerMax,\n                            rx: 1,\n                            ry: 1\n                        };\n                        var barInnerProps = _extends({\n                            key: keyInner\n                        }, boxInner, {\n                            style: styles[_level]\n                        });\n                        if (_this2.props.onSelectionChange) {\n                            barInnerProps.onClick = function (e) {\n                                return _this2.handleClick(e, event);\n                            };\n                        }\n                        if (_this2.props.onHighlightChange) {\n                            barInnerProps.onMouseMove = function (e) {\n                                return _this2.handleHover(e, event);\n                            };\n                            barInnerProps.onMouseLeave = function () {\n                                return _this2.handleHoverLeave();\n                            };\n                        }\n\n                        bars.push(_react2.default.createElement(\"rect\", barInnerProps));\n                        ymax = ymax || \"innerMax\";\n                    }\n\n                    if (hasCenter) {\n                        var _level2 = 2;\n                        var keyCenter = _this2.series.name() + \"-\" + index + \"-center\";\n                        var boxCenter = {\n                            x: xInner,\n                            y: center,\n                            width: innerWidth,\n                            height: 1\n                        };\n                        var barCenterProps = _extends({\n                            key: keyCenter\n                        }, boxCenter, {\n                            style: styles[_level2]\n                        });\n                        if (_this2.props.onSelectionChange) {\n                            barCenterProps.onClick = function (e) {\n                                return _this2.handleClick(e, event);\n                            };\n                        }\n                        if (_this2.props.onHighlightChange) {\n                            barCenterProps.onMouseMove = function (e) {\n                                return _this2.handleHover(e, event);\n                            };\n                            barCenterProps.onMouseLeave = function () {\n                                return _this2.handleHoverLeave();\n                            };\n                        }\n                        if (_underscore2.default.isNaN(barCenterProps.y)) {\n                            console.log(d.toString());\n                        }\n                        bars.push(_react2.default.createElement(\"rect\", barCenterProps));\n                        ymax = ymax || \"center\";\n                    }\n\n                    // Event marker if info provided and hovering\n                    var isHighlighted = _this2.props.highlighted && _pondjs.Event.is(_this2.props.highlighted, event);\n                    if (isHighlighted && _this2.props.info) {\n                        eventMarker = _react2.default.createElement(_EventMarker2.default, _extends({}, _this2.props, {\n                            yValueFunc: function yValueFunc(e) {\n                                return e.get(ymax);\n                            },\n                            event: event,\n                            column: column,\n                            marker: \"circle\",\n                            markerRadius: 2\n                        }));\n                    }\n                };\n\n                for (var _iterator = this.series.events()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    _loop();\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return _react2.default.createElement(\n                \"g\",\n                null,\n                bars,\n                eventMarker\n            );\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"g\",\n                null,\n                this.renderBars()\n            );\n        }\n    }]);\n\n    return BoxChart;\n}(_react2.default.Component);\n\nexports.default = BoxChart;\n\n\nBoxChart.propTypes = {\n    /**\n     * Show or hide this chart\n     */\n    visible: _propTypes2.default.bool,\n\n    /**\n     * What [Pond TimeSeries](https://esnet-pondjs.appspot.com/#/timeseries)\n     * data to visualize. See general notes on the BoxChart.\n     */\n    series: function series(props, propName, componentName) {\n        var value = props[propName];\n        if (!(value instanceof _pondjs.TimeSeries)) {\n            return new Error(\"A TimeSeries needs to be passed to \" + componentName + \" as the 'series' prop.\");\n        }\n\n        // TODO: Better detection of errors\n\n        // everything ok\n        return null;\n    },\n\n    /**\n     * The column within the TimeSeries to plot. Unlike other charts, the BoxChart\n     * works on just a single column.\n     *\n     * NOTE : Columns can't have periods because periods\n     * represent a path to deep data in the underlying events\n     * (i.e. reference into nested data structures)\n     */\n    column: _propTypes2.default.string,\n\n    /**\n     * The aggregation specification. This object should contain:\n     *   - innerMax\n     *   - innerMin\n     *   - outerMax\n     *   - outerMin\n     *   - center\n     * Though each of the pairs, and center, is optional.\n     * For each of these keys you should supply the function you\n     * want to use to calculate these. You can import common functions\n     * from Pond, e.g. min(), avg(), percentile(95), etc.\n     *\n     * For example:\n     * ```\n     *     {\n     *       size: this.state.rollup,\n     *       reducers: {\n     *         outer: [min(), max()],\n     *         inner: [percentile(25), percentile(75)],\n     *         center: median(),\n     *       },\n     *     }\n     * ```\n     */\n    aggregation: _propTypes2.default.shape({\n        size: _propTypes2.default.string,\n        reducers: _propTypes2.default.shape({\n            inner: _propTypes2.default.arrayOf(_propTypes2.default.func), // eslint-disable-line\n            outer: _propTypes2.default.arrayOf(_propTypes2.default.func), // eslint-disable-line\n            center: _propTypes2.default.func // eslint-disable-line\n        })\n    }), // eslint-disable-line\n\n    /**\n     * The style of the box chart drawing (using SVG CSS properties) or\n     * a styler object. It is recommended to user the styler unless you need\n     * detailed customization.\n     */\n    style: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func, _propTypes2.default.instanceOf(_styler.Styler)]),\n\n    /**\n     * The style of the info box and connecting lines\n     */\n    infoStyle: _propTypes2.default.object, //eslint-disable-line\n\n    /**\n     * The width of the hover info box\n     */\n    infoWidth: _propTypes2.default.number, //eslint-disable-line\n\n    /**\n     * The height of the hover info box\n     */\n    infoHeight: _propTypes2.default.number, //eslint-disable-line\n\n    /**\n     * The vertical offset in pixels of the EventMarker info box from the\n     * top of the chart.\n     */\n    infoOffsetY: _propTypes2.default.number,\n\n    /**\n     * The values to show in the info box. This is an array of\n     * objects, with each object specifying the label and value\n     * to be shown in the info box.\n     */\n    info: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n        //eslint-disable-line\n        label: _propTypes2.default.string, //eslint-disable-line\n        value: _propTypes2.default.string //eslint-disable-line\n    })),\n\n    /**\n     * If spacing is specified, then the boxes will be separated from the\n     * timerange boundary by this number of pixels. Use this to space out\n     * the boxes from each other. Inner and outer boxes are controlled\n     * separately.\n     */\n    innerSpacing: _propTypes2.default.number,\n\n    /**\n     * If spacing is specified, then the boxes will be separated from the\n     * timerange boundary by this number of pixels. Use this to space out\n     * the boxes from each other. Inner and outer boxes are controlled\n     * separately.\n     */\n    outerSpacing: _propTypes2.default.number,\n\n    /**\n     * If size is specified, then the innerBox will be this number of pixels wide. This\n     * prop takes priority over \"spacing\".\n     */\n    innerSize: _propTypes2.default.number,\n\n    /**\n     * If size is specified, then the outer box will be this number of pixels wide. This\n     * prop takes priority over \"spacing\".\n     */\n    outerSize: _propTypes2.default.number,\n\n    /**\n     * The selected item, which will be rendered in the \"selected\" style.\n     * If a bar is selected, all other bars will be rendered in the \"muted\" style.\n     *\n     * See also `onSelectionChange`\n     */\n    selected: _propTypes2.default.instanceOf(_pondjs.IndexedEvent),\n\n    /**\n     * The highlighted item, which will be rendered in the \"highlighted\" style.\n     *\n     * See also `onHighlightChange`\n     */\n    highlighted: _propTypes2.default.instanceOf(_pondjs.IndexedEvent),\n\n    /**\n     * A callback that will be called when the selection changes. It will be called\n     * with the event corresponding to the box clicked as its only arg.\n     */\n    onSelectionChange: _propTypes2.default.func,\n\n    /**\n     * A callback that will be called when the hovered over box changes.\n     * It will be called with the event corresponding to the box hovered over.\n     */\n    onHighlightChange: _propTypes2.default.func,\n\n    /**\n     * [Internal] The timeScale supplied by the surrounding ChartContainer\n     */\n    timeScale: _propTypes2.default.func,\n\n    /**\n     * [Internal] The yScale supplied by the associated YAxis\n     */\n    yScale: _propTypes2.default.func,\n\n    /**\n     * [Internal] The width supplied by the surrounding ChartContainer\n     */\n    width: _propTypes2.default.number\n};\n\nBoxChart.defaultProps = {\n    visible: true,\n    column: \"value\",\n    innerSpacing: 1.0,\n    outerSpacing: 2.0,\n    infoStyle: {\n        stroke: \"#999\",\n        fill: \"white\",\n        opacity: 0.9,\n        pointerEvents: \"none\"\n    },\n    stemStyle: {\n        stroke: \"#999\",\n        cursor: \"crosshair\",\n        pointerEvents: \"none\"\n    },\n    markerStyle: {\n        fill: \"#999\"\n    },\n    markerRadius: 2,\n    infoWidth: 90,\n    infoHeight: 30,\n    infoOffsetY: 20\n};"]},"metadata":{},"sourceType":"script"}