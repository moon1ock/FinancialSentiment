{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Styler = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n/**\n *  Copyright (c) 2016, The Regents of the University of California,\n *  through Lawrence Berkeley National Laboratory (subject to receipt\n *  of any required approvals from the U.S. Dept. of Energy).\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree.\n */\n\n\nexports.default = styler;\n\nvar _underscore = require(\"underscore\");\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _colorbrewer = require(\"colorbrewer\");\n\nvar _colorbrewer2 = _interopRequireDefault(_colorbrewer);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n/**\n * For our Style we want to represent two things:\n *\n *   1. The overall style of an AreaChart should be consistent across a site\n *   2. The specific style of a columnName (e.g. \"pressure\") should be consistent\n *\n * The overall style is implemented with methods specific to\n * each chart type or entity:\n *\n *   - lineChartStyle()\n *   - areaChartStyle()\n *   - legendStyle()\n *   - etc\n *\n * These will render out an object that can be passed into the\n * charts themselves and will control the visual appearance,\n * keyed by columnName. This abstracts away the SVG details of the\n * underlying DOM elements.\n *\n * For the specific style we define here three out of the box parameters\n * by which one column can be different from another when rendered:\n *   - color\n *   - width (of a line)\n *   - dashed or not\n *\n */\n\n\nvar Styler = exports.Styler = function () {\n  /**\n   * The columns define the style associated with a particular\n   * quantity, such as \"inTraffic\" or \"temperature\". The columns\n   * are an array, with each element being either a string, or\n   * and object defining the style.\n   *\n   *  * Using a string makes the assumption that you want to use a\n   * color scheme, so you need to define that if you don't want the\n   * default. A color will be then assigned to each column based\n   * on the scheme. The string is the column name.\n   *\n   *  * In the second case of providing an object, you define properties\n   * of the style yourself. Each object should contain a \"key\" property\n   * which is the column name and optionally the `width` and `dashed`\n   * property. If you don't supply the color, then the color\n   * will come from the scheme.\n   *\n   */\n  function Styler(columns) {\n    var _this = this;\n\n    var scheme = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"Paired\";\n\n    _classCallCheck(this, Styler);\n\n    this.columnStyles = {};\n\n    if (_underscore2.default.isArray(columns)) {\n      columns.forEach(function (column) {\n        if (_underscore2.default.isString(column)) {\n          _this.columnStyles[column] = {\n            key: column\n          };\n        } else if (_underscore2.default.isObject(column)) {\n          var key = column.key,\n              style = _objectWithoutProperties(column, [\"key\"]);\n\n          _this.columnStyles[key] = style;\n        }\n      });\n    }\n\n    this.columnNames = _underscore2.default.map(columns, function (c) {\n      var cc = _underscore2.default.isString(c) ? c : c.key;\n      return cc;\n    });\n\n    if (scheme && !_underscore2.default.has(_colorbrewer2.default, scheme)) {\n      throw new Error(\"Unknown scheme '\" + scheme + \"' supplied to Style constructor\");\n    }\n\n    this.colorScheme = scheme;\n  }\n\n  _createClass(Styler, [{\n    key: \"numColumns\",\n    value: function numColumns() {\n      return this.columnNames.length;\n    }\n    /**\n     * Returns the color scheme with the appropiate number of colors.\n     * If there are more columns than the largest set in the scheme then\n     * just the largest scheme set will be returned.\n     * If there are less columns than the smallest set in the scheme then\n     * just the smallest scheme will be returned.\n     * @param  {number} columnCount The number of columns to apply the scheme to\n     * @return {array}              An array with the scheme colors in it.\n     */\n\n  }, {\n    key: \"colorLookup\",\n    value: function colorLookup(columnCount) {\n      var colorSchemeKeys = _underscore2.default.keys(_colorbrewer2.default[this.colorScheme]);\n\n      var minSchemeSize = _underscore2.default.min(colorSchemeKeys);\n\n      var maxSchemeSize = _underscore2.default.max(colorSchemeKeys);\n\n      var colorLookupSize = columnCount > maxSchemeSize ? maxSchemeSize : columnCount;\n      colorLookupSize = _underscore2.default.max([colorLookupSize, minSchemeSize]);\n      return this.colorScheme ? _colorbrewer2.default[this.colorScheme][colorLookupSize] : [];\n    }\n    /**\n     */\n\n  }, {\n    key: \"legendStyle\",\n    value: function legendStyle(column, type) {\n      var numColumns = this.numColumns();\n      var colorLookup = this.colorLookup(numColumns);\n\n      var i = _underscore2.default.indexOf(this.columnNames, column);\n\n      var columnName = this.columnNames[i];\n      var _columnStyles$columnN = this.columnStyles[columnName],\n          color = _columnStyles$columnN.color,\n          _columnStyles$columnN2 = _columnStyles$columnN.width,\n          width = _columnStyles$columnN2 === undefined ? 1 : _columnStyles$columnN2,\n          _columnStyles$columnN3 = _columnStyles$columnN.dashed,\n          dashed = _columnStyles$columnN3 === undefined ? false : _columnStyles$columnN3;\n      var c = color || colorLookup[i % colorLookup.length];\n      var styleSymbol = {};\n\n      if (type === \"swatch\" || type === \"dot\") {\n        styleSymbol = {\n          fill: c,\n          opacity: 0.9,\n          stroke: c,\n          cursor: \"pointer\"\n        };\n      } else if (type === \"line\") {\n        styleSymbol = {\n          opacity: 0.9,\n          stroke: c,\n          strokeWidth: width,\n          cursor: \"pointer\"\n        };\n\n        if (dashed) {\n          styleSymbol.strokeDasharray = \"4,2\";\n        }\n      }\n\n      var labelStyle = {\n        fontSize: \"normal\",\n        color: \"#333\",\n        paddingRight: 10,\n        cursor: \"pointer\"\n      };\n      var valueStyle = {\n        fontSize: \"smaller\",\n        color: \"#999\",\n        cursor: \"pointer\"\n      };\n      var legendStyle = {\n        symbol: {\n          normal: _extends({}, styleSymbol, {\n            opacity: 0.7\n          }),\n          highlighted: _extends({}, styleSymbol, {\n            opacity: 0.8\n          }),\n          selected: _extends({}, styleSymbol, {\n            opacity: 0.8\n          }),\n          muted: _extends({}, styleSymbol, {\n            opacity: 0.2\n          })\n        },\n        label: {\n          normal: _extends({}, labelStyle, {\n            opacity: 0.7\n          }),\n          highlighted: _extends({}, labelStyle, {\n            opacity: 0.8\n          }),\n          selected: _extends({}, labelStyle, {\n            opacity: 0.8\n          }),\n          muted: _extends({}, labelStyle, {\n            opacity: 0.5\n          })\n        },\n        value: {\n          normal: _extends({}, valueStyle, {\n            opacity: 0.7\n          }),\n          highlighted: _extends({}, valueStyle, {\n            opacity: 0.8\n          }),\n          selected: _extends({}, valueStyle, {\n            opacity: 0.8\n          }),\n          muted: _extends({}, valueStyle, {\n            opacity: 0.5\n          })\n        }\n      };\n      return legendStyle;\n    }\n  }, {\n    key: \"areaChartStyle\",\n    value: function areaChartStyle() {\n      var style = {};\n      var numColumns = this.numColumns();\n      var colorLookup = this.colorLookup(numColumns);\n      var i = 0;\n\n      _underscore2.default.forEach(this.columnStyles, function (_ref, column) {\n        var color = _ref.color,\n            selected = _ref.selected,\n            _ref$width = _ref.width,\n            width = _ref$width === undefined ? 1 : _ref$width,\n            _ref$dashed = _ref.dashed,\n            dashed = _ref$dashed === undefined ? false : _ref$dashed;\n        var c = color || colorLookup[i % colorLookup.length];\n        var styleLine = {\n          stroke: c,\n          fill: \"none\",\n          strokeWidth: width\n        };\n        var styleSelectedLine = {\n          stroke: selected || color,\n          fill: \"none\",\n          strokeWidth: width\n        };\n\n        if (dashed) {\n          styleLine.strokeDasharray = \"4,2\";\n        }\n\n        var styleArea = {\n          fill: c,\n          stroke: \"none\"\n        };\n        var styleSelectedArea = {\n          fill: selected || color,\n          stroke: \"none\"\n        };\n        style[column] = {\n          line: {\n            normal: _extends({}, styleLine, {\n              opacity: 0.9\n            }),\n            highlighted: _extends({}, styleLine, {\n              opacity: 1.0\n            }),\n            selected: _extends({}, styleSelectedLine, {\n              opacity: 1.0\n            }),\n            muted: _extends({}, styleLine, {\n              opacity: 0.4\n            })\n          },\n          area: {\n            normal: _extends({}, styleArea, {\n              opacity: 0.7\n            }),\n            highlighted: _extends({}, styleArea, {\n              opacity: 0.8\n            }),\n            selected: _extends({}, styleSelectedArea, {\n              opacity: 0.8\n            }),\n            muted: _extends({}, styleArea, {\n              opacity: 0.2\n            })\n          }\n        };\n        i += 1;\n      });\n\n      return style;\n    }\n  }, {\n    key: \"lineChartStyle\",\n    value: function lineChartStyle() {\n      var _this2 = this;\n\n      var numColumns = this.numColumns();\n      var colorLookup = this.colorLookup(numColumns);\n      var style = {};\n\n      _underscore2.default.forEach(this.columnStyles, function (_ref2, column) {\n        var color = _ref2.color,\n            selected = _ref2.selected,\n            _ref2$width = _ref2.width,\n            width = _ref2$width === undefined ? 1 : _ref2$width,\n            _ref2$dashed = _ref2.dashed,\n            dashed = _ref2$dashed === undefined ? false : _ref2$dashed;\n\n        var i = _underscore2.default.indexOf(_this2.columnNames, column);\n\n        var c = color || colorLookup[i % colorLookup.length];\n        var styleLine = {\n          stroke: c,\n          strokeWidth: width,\n          fill: \"none\"\n        };\n        var styleSelectedLine = {\n          stroke: selected || c,\n          strokeWidth: width,\n          fill: \"none\"\n        };\n\n        if (dashed) {\n          styleLine.strokeDasharray = \"4,2\";\n        }\n\n        style[column] = {\n          normal: _extends({}, styleLine, {\n            opacity: 0.8,\n            strokeWidth: width\n          }),\n          highlighted: _extends({}, styleLine, {\n            opacity: 1.0,\n            strokeWidth: width\n          }),\n          selected: _extends({}, styleSelectedLine, {\n            opacity: 1.0,\n            strokeWidth: width\n          }),\n          muted: _extends({}, styleLine, {\n            opacity: 0.2,\n            strokeWidth: width\n          })\n        };\n      });\n\n      return style;\n    }\n  }, {\n    key: \"barChartStyle\",\n    value: function barChartStyle() {\n      var _this3 = this;\n\n      var numColumns = this.numColumns();\n      var colorLookup = this.colorLookup(numColumns);\n      var style = {};\n\n      _underscore2.default.forEach(this.columnStyles, function (_ref3, column) {\n        var color = _ref3.color,\n            selected = _ref3.selected;\n\n        var i = _underscore2.default.indexOf(_this3.columnNames, column);\n\n        var c = color || colorLookup[i % colorLookup.length];\n        var fillStyle = {\n          fill: c\n        };\n        var selectedStyle = {\n          fill: selected || c\n        };\n        style[column] = {\n          normal: _extends({}, fillStyle, {\n            opacity: 0.8\n          }),\n          highlighted: _extends({}, fillStyle, {\n            opacity: 1.0\n          }),\n          selected: _extends({}, selectedStyle, {\n            opacity: 1.0\n          }),\n          muted: _extends({}, fillStyle, {\n            opacity: 0.2\n          })\n        };\n      });\n\n      return style;\n    }\n  }, {\n    key: \"scatterChartStyle\",\n    value: function scatterChartStyle() {\n      var _this4 = this;\n\n      var numColumns = this.numColumns();\n      var colorLookup = this.colorLookup(numColumns);\n      var style = {};\n\n      _underscore2.default.forEach(this.columnStyles, function (_ref4, column) {\n        var color = _ref4.color,\n            selected = _ref4.selected;\n\n        var i = _underscore2.default.indexOf(_this4.columnNames, column);\n\n        var c = color || colorLookup[i % colorLookup.length];\n        var fillStyle = {\n          fill: c\n        };\n        var selectedStyle = {\n          fill: selected || c\n        };\n        style[column] = {\n          normal: _extends({}, fillStyle, {\n            opacity: 0.8\n          }),\n          highlighted: _extends({}, fillStyle, {\n            opacity: 1.0\n          }),\n          selected: _extends({}, selectedStyle, {\n            opacity: 1.0\n          }),\n          muted: _extends({}, fillStyle, {\n            opacity: 0.2\n          })\n        };\n      });\n\n      return style;\n    }\n  }, {\n    key: \"axisStyle\",\n    value: function axisStyle(column) {\n      var numColumns = this.numColumns();\n      var colorLookup = this.colorLookup(numColumns);\n\n      var i = _underscore2.default.indexOf(this.columnNames, column);\n\n      var columnName = this.columnNames[i];\n      var color = this.columnStyles[columnName].color;\n      var c = color || colorLookup[i % colorLookup.length];\n      return {\n        label: {\n          fill: c\n        }\n      };\n    }\n  }, {\n    key: \"boxChartStyle\",\n    value: function boxChartStyle() {\n      var style = {};\n      var numColumns = this.numColumns();\n      var colorLookup = this.colorLookup(numColumns);\n      var i = 0;\n\n      _underscore2.default.forEach(this.columnStyles, function (_ref5, column) {\n        var color = _ref5.color,\n            selected = _ref5.selected;\n        var c = color || colorLookup[i % colorLookup.length];\n        var styleArea = {\n          fill: c,\n          stroke: \"none\"\n        };\n        var styleSelectedArea = {\n          fill: selected || color,\n          stroke: \"none\"\n        };\n        style[column] = [{\n          normal: _extends({}, styleArea, {\n            opacity: 0.2\n          }),\n          highlighted: _extends({}, styleArea, {\n            opacity: 0.3\n          }),\n          selected: _extends({}, styleSelectedArea, {\n            opacity: 0.3\n          }),\n          muted: _extends({}, styleArea, {\n            opacity: 0.1\n          })\n        }, {\n          normal: _extends({}, styleArea, {\n            opacity: 0.5\n          }),\n          highlighted: _extends({}, styleArea, {\n            opacity: 0.6\n          }),\n          selected: _extends({}, styleSelectedArea, {\n            opacity: 0.6\n          }),\n          muted: _extends({}, styleArea, {\n            opacity: 0.2\n          })\n        }, {\n          normal: _extends({}, styleArea, {\n            opacity: 0.9\n          }),\n          highlighted: _extends({}, styleArea, {\n            opacity: 1.0\n          }),\n          selected: _extends({}, styleSelectedArea, {\n            opacity: 1.0\n          }),\n          muted: _extends({}, styleArea, {\n            opacity: 0.2\n          })\n        }];\n        i += 1;\n      });\n\n      return style;\n    }\n  }]);\n\n  return Styler;\n}();\n\nfunction styler(columns, scheme) {\n  return new Styler(columns, scheme);\n}","map":{"version":3,"sources":["/Users/nicholasraffone/Documents/swefall2021/finalproj/FinancialSentiment/fin_sentiment_front/node_modules/react-timeseries-charts/lib/js/styler.js"],"names":["Object","defineProperty","exports","value","Styler","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","default","styler","_underscore","require","_underscore2","_interopRequireDefault","_colorbrewer","_colorbrewer2","obj","__esModule","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","columns","_this","scheme","columnStyles","isArray","forEach","column","isString","isObject","style","columnNames","map","c","cc","has","Error","colorScheme","numColumns","colorLookup","columnCount","colorSchemeKeys","minSchemeSize","min","maxSchemeSize","max","colorLookupSize","legendStyle","type","columnName","_columnStyles$columnN","color","_columnStyles$columnN2","width","_columnStyles$columnN3","dashed","styleSymbol","fill","opacity","stroke","cursor","strokeWidth","strokeDasharray","labelStyle","fontSize","paddingRight","valueStyle","symbol","normal","highlighted","selected","muted","label","areaChartStyle","_ref","_ref$width","_ref$dashed","styleLine","styleSelectedLine","styleArea","styleSelectedArea","line","area","lineChartStyle","_this2","_ref2","_ref2$width","_ref2$dashed","barChartStyle","_this3","_ref3","fillStyle","selectedStyle","scatterChartStyle","_this4","_ref4","axisStyle","boxChartStyle","_ref5"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Styler = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *  Copyright (c) 2016, The Regents of the University of California,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *  through Lawrence Berkeley National Laboratory (subject to receipt\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *  of any required approvals from the U.S. Dept. of Energy).\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *  All rights reserved.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *  This source code is licensed under the BSD-style license found in the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *  LICENSE file in the root directory of this source tree.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nexports.default = styler;\n\nvar _underscore = require(\"underscore\");\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _colorbrewer = require(\"colorbrewer\");\n\nvar _colorbrewer2 = _interopRequireDefault(_colorbrewer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * For our Style we want to represent two things:\n *\n *   1. The overall style of an AreaChart should be consistent across a site\n *   2. The specific style of a columnName (e.g. \"pressure\") should be consistent\n *\n * The overall style is implemented with methods specific to\n * each chart type or entity:\n *\n *   - lineChartStyle()\n *   - areaChartStyle()\n *   - legendStyle()\n *   - etc\n *\n * These will render out an object that can be passed into the\n * charts themselves and will control the visual appearance,\n * keyed by columnName. This abstracts away the SVG details of the\n * underlying DOM elements.\n *\n * For the specific style we define here three out of the box parameters\n * by which one column can be different from another when rendered:\n *   - color\n *   - width (of a line)\n *   - dashed or not\n *\n */\nvar Styler = exports.Styler = function () {\n    /**\n     * The columns define the style associated with a particular\n     * quantity, such as \"inTraffic\" or \"temperature\". The columns\n     * are an array, with each element being either a string, or\n     * and object defining the style.\n     *\n     *  * Using a string makes the assumption that you want to use a\n     * color scheme, so you need to define that if you don't want the\n     * default. A color will be then assigned to each column based\n     * on the scheme. The string is the column name.\n     *\n     *  * In the second case of providing an object, you define properties\n     * of the style yourself. Each object should contain a \"key\" property\n     * which is the column name and optionally the `width` and `dashed`\n     * property. If you don't supply the color, then the color\n     * will come from the scheme.\n     *\n     */\n    function Styler(columns) {\n        var _this = this;\n\n        var scheme = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"Paired\";\n\n        _classCallCheck(this, Styler);\n\n        this.columnStyles = {};\n        if (_underscore2.default.isArray(columns)) {\n            columns.forEach(function (column) {\n                if (_underscore2.default.isString(column)) {\n                    _this.columnStyles[column] = { key: column };\n                } else if (_underscore2.default.isObject(column)) {\n                    var key = column.key,\n                        style = _objectWithoutProperties(column, [\"key\"]);\n\n                    _this.columnStyles[key] = style;\n                }\n            });\n        }\n        this.columnNames = _underscore2.default.map(columns, function (c) {\n            var cc = _underscore2.default.isString(c) ? c : c.key;\n            return cc;\n        });\n\n        if (scheme && !_underscore2.default.has(_colorbrewer2.default, scheme)) {\n            throw new Error(\"Unknown scheme '\" + scheme + \"' supplied to Style constructor\");\n        }\n        this.colorScheme = scheme;\n    }\n\n    _createClass(Styler, [{\n        key: \"numColumns\",\n        value: function numColumns() {\n            return this.columnNames.length;\n        }\n\n        /**\n         * Returns the color scheme with the appropiate number of colors.\n         * If there are more columns than the largest set in the scheme then\n         * just the largest scheme set will be returned.\n         * If there are less columns than the smallest set in the scheme then\n         * just the smallest scheme will be returned.\n         * @param  {number} columnCount The number of columns to apply the scheme to\n         * @return {array}              An array with the scheme colors in it.\n         */\n\n    }, {\n        key: \"colorLookup\",\n        value: function colorLookup(columnCount) {\n            var colorSchemeKeys = _underscore2.default.keys(_colorbrewer2.default[this.colorScheme]);\n            var minSchemeSize = _underscore2.default.min(colorSchemeKeys);\n            var maxSchemeSize = _underscore2.default.max(colorSchemeKeys);\n            var colorLookupSize = columnCount > maxSchemeSize ? maxSchemeSize : columnCount;\n            colorLookupSize = _underscore2.default.max([colorLookupSize, minSchemeSize]);\n            return this.colorScheme ? _colorbrewer2.default[this.colorScheme][colorLookupSize] : [];\n        }\n\n        /**\n         */\n\n    }, {\n        key: \"legendStyle\",\n        value: function legendStyle(column, type) {\n            var numColumns = this.numColumns();\n            var colorLookup = this.colorLookup(numColumns);\n            var i = _underscore2.default.indexOf(this.columnNames, column);\n            var columnName = this.columnNames[i];\n            var _columnStyles$columnN = this.columnStyles[columnName],\n                color = _columnStyles$columnN.color,\n                _columnStyles$columnN2 = _columnStyles$columnN.width,\n                width = _columnStyles$columnN2 === undefined ? 1 : _columnStyles$columnN2,\n                _columnStyles$columnN3 = _columnStyles$columnN.dashed,\n                dashed = _columnStyles$columnN3 === undefined ? false : _columnStyles$columnN3;\n\n            var c = color || colorLookup[i % colorLookup.length];\n\n            var styleSymbol = {};\n            if (type === \"swatch\" || type === \"dot\") {\n                styleSymbol = {\n                    fill: c,\n                    opacity: 0.9,\n                    stroke: c,\n                    cursor: \"pointer\"\n                };\n            } else if (type === \"line\") {\n                styleSymbol = {\n                    opacity: 0.9,\n                    stroke: c,\n                    strokeWidth: width,\n                    cursor: \"pointer\"\n                };\n                if (dashed) {\n                    styleSymbol.strokeDasharray = \"4,2\";\n                }\n            }\n\n            var labelStyle = {\n                fontSize: \"normal\",\n                color: \"#333\",\n                paddingRight: 10,\n                cursor: \"pointer\"\n            };\n            var valueStyle = {\n                fontSize: \"smaller\",\n                color: \"#999\",\n                cursor: \"pointer\"\n            };\n            var legendStyle = {\n                symbol: {\n                    normal: _extends({}, styleSymbol, { opacity: 0.7 }),\n                    highlighted: _extends({}, styleSymbol, { opacity: 0.8 }),\n                    selected: _extends({}, styleSymbol, { opacity: 0.8 }),\n                    muted: _extends({}, styleSymbol, { opacity: 0.2 })\n                },\n                label: {\n                    normal: _extends({}, labelStyle, { opacity: 0.7 }),\n                    highlighted: _extends({}, labelStyle, { opacity: 0.8 }),\n                    selected: _extends({}, labelStyle, { opacity: 0.8 }),\n                    muted: _extends({}, labelStyle, { opacity: 0.5 })\n                },\n                value: {\n                    normal: _extends({}, valueStyle, { opacity: 0.7 }),\n                    highlighted: _extends({}, valueStyle, { opacity: 0.8 }),\n                    selected: _extends({}, valueStyle, { opacity: 0.8 }),\n                    muted: _extends({}, valueStyle, { opacity: 0.5 })\n                }\n            };\n            return legendStyle;\n        }\n    }, {\n        key: \"areaChartStyle\",\n        value: function areaChartStyle() {\n            var style = {};\n\n            var numColumns = this.numColumns();\n            var colorLookup = this.colorLookup(numColumns);\n\n            var i = 0;\n            _underscore2.default.forEach(this.columnStyles, function (_ref, column) {\n                var color = _ref.color,\n                    selected = _ref.selected,\n                    _ref$width = _ref.width,\n                    width = _ref$width === undefined ? 1 : _ref$width,\n                    _ref$dashed = _ref.dashed,\n                    dashed = _ref$dashed === undefined ? false : _ref$dashed;\n\n                var c = color || colorLookup[i % colorLookup.length];\n                var styleLine = {\n                    stroke: c,\n                    fill: \"none\",\n                    strokeWidth: width\n                };\n                var styleSelectedLine = {\n                    stroke: selected || color,\n                    fill: \"none\",\n                    strokeWidth: width\n                };\n                if (dashed) {\n                    styleLine.strokeDasharray = \"4,2\";\n                }\n                var styleArea = {\n                    fill: c,\n                    stroke: \"none\"\n                };\n                var styleSelectedArea = {\n                    fill: selected || color,\n                    stroke: \"none\"\n                };\n                style[column] = {\n                    line: {\n                        normal: _extends({}, styleLine, { opacity: 0.9 }),\n                        highlighted: _extends({}, styleLine, { opacity: 1.0 }),\n                        selected: _extends({}, styleSelectedLine, { opacity: 1.0 }),\n                        muted: _extends({}, styleLine, { opacity: 0.4 })\n                    },\n                    area: {\n                        normal: _extends({}, styleArea, { opacity: 0.7 }),\n                        highlighted: _extends({}, styleArea, { opacity: 0.8 }),\n                        selected: _extends({}, styleSelectedArea, { opacity: 0.8 }),\n                        muted: _extends({}, styleArea, { opacity: 0.2 })\n                    }\n                };\n                i += 1;\n            });\n            return style;\n        }\n    }, {\n        key: \"lineChartStyle\",\n        value: function lineChartStyle() {\n            var _this2 = this;\n\n            var numColumns = this.numColumns();\n            var colorLookup = this.colorLookup(numColumns);\n            var style = {};\n            _underscore2.default.forEach(this.columnStyles, function (_ref2, column) {\n                var color = _ref2.color,\n                    selected = _ref2.selected,\n                    _ref2$width = _ref2.width,\n                    width = _ref2$width === undefined ? 1 : _ref2$width,\n                    _ref2$dashed = _ref2.dashed,\n                    dashed = _ref2$dashed === undefined ? false : _ref2$dashed;\n\n                var i = _underscore2.default.indexOf(_this2.columnNames, column);\n                var c = color || colorLookup[i % colorLookup.length];\n                var styleLine = {\n                    stroke: c,\n                    strokeWidth: width,\n                    fill: \"none\"\n                };\n                var styleSelectedLine = {\n                    stroke: selected || c,\n                    strokeWidth: width,\n                    fill: \"none\"\n                };\n\n                if (dashed) {\n                    styleLine.strokeDasharray = \"4,2\";\n                }\n                style[column] = {\n                    normal: _extends({}, styleLine, { opacity: 0.8, strokeWidth: width }),\n                    highlighted: _extends({}, styleLine, { opacity: 1.0, strokeWidth: width }),\n                    selected: _extends({}, styleSelectedLine, { opacity: 1.0, strokeWidth: width }),\n                    muted: _extends({}, styleLine, { opacity: 0.2, strokeWidth: width })\n                };\n            });\n            return style;\n        }\n    }, {\n        key: \"barChartStyle\",\n        value: function barChartStyle() {\n            var _this3 = this;\n\n            var numColumns = this.numColumns();\n            var colorLookup = this.colorLookup(numColumns);\n            var style = {};\n            _underscore2.default.forEach(this.columnStyles, function (_ref3, column) {\n                var color = _ref3.color,\n                    selected = _ref3.selected;\n\n                var i = _underscore2.default.indexOf(_this3.columnNames, column);\n                var c = color || colorLookup[i % colorLookup.length];\n                var fillStyle = {\n                    fill: c\n                };\n                var selectedStyle = {\n                    fill: selected || c\n                };\n                style[column] = {\n                    normal: _extends({}, fillStyle, { opacity: 0.8 }),\n                    highlighted: _extends({}, fillStyle, { opacity: 1.0 }),\n                    selected: _extends({}, selectedStyle, { opacity: 1.0 }),\n                    muted: _extends({}, fillStyle, { opacity: 0.2 })\n                };\n            });\n            return style;\n        }\n    }, {\n        key: \"scatterChartStyle\",\n        value: function scatterChartStyle() {\n            var _this4 = this;\n\n            var numColumns = this.numColumns();\n            var colorLookup = this.colorLookup(numColumns);\n            var style = {};\n            _underscore2.default.forEach(this.columnStyles, function (_ref4, column) {\n                var color = _ref4.color,\n                    selected = _ref4.selected;\n\n                var i = _underscore2.default.indexOf(_this4.columnNames, column);\n                var c = color || colorLookup[i % colorLookup.length];\n                var fillStyle = {\n                    fill: c\n                };\n                var selectedStyle = {\n                    fill: selected || c\n                };\n                style[column] = {\n                    normal: _extends({}, fillStyle, { opacity: 0.8 }),\n                    highlighted: _extends({}, fillStyle, { opacity: 1.0 }),\n                    selected: _extends({}, selectedStyle, { opacity: 1.0 }),\n                    muted: _extends({}, fillStyle, { opacity: 0.2 })\n                };\n            });\n            return style;\n        }\n    }, {\n        key: \"axisStyle\",\n        value: function axisStyle(column) {\n            var numColumns = this.numColumns();\n            var colorLookup = this.colorLookup(numColumns);\n            var i = _underscore2.default.indexOf(this.columnNames, column);\n            var columnName = this.columnNames[i];\n            var color = this.columnStyles[columnName].color;\n\n            var c = color || colorLookup[i % colorLookup.length];\n            return {\n                label: {\n                    fill: c\n                }\n            };\n        }\n    }, {\n        key: \"boxChartStyle\",\n        value: function boxChartStyle() {\n            var style = {};\n\n            var numColumns = this.numColumns();\n            var colorLookup = this.colorLookup(numColumns);\n\n            var i = 0;\n            _underscore2.default.forEach(this.columnStyles, function (_ref5, column) {\n                var color = _ref5.color,\n                    selected = _ref5.selected;\n\n                var c = color || colorLookup[i % colorLookup.length];\n                var styleArea = {\n                    fill: c,\n                    stroke: \"none\"\n                };\n                var styleSelectedArea = {\n                    fill: selected || color,\n                    stroke: \"none\"\n                };\n                style[column] = [{\n                    normal: _extends({}, styleArea, { opacity: 0.2 }),\n                    highlighted: _extends({}, styleArea, { opacity: 0.3 }),\n                    selected: _extends({}, styleSelectedArea, { opacity: 0.3 }),\n                    muted: _extends({}, styleArea, { opacity: 0.1 })\n                }, {\n                    normal: _extends({}, styleArea, { opacity: 0.5 }),\n                    highlighted: _extends({}, styleArea, { opacity: 0.6 }),\n                    selected: _extends({}, styleSelectedArea, { opacity: 0.6 }),\n                    muted: _extends({}, styleArea, { opacity: 0.2 })\n                }, {\n                    normal: _extends({}, styleArea, { opacity: 0.9 }),\n                    highlighted: _extends({}, styleArea, { opacity: 1.0 }),\n                    selected: _extends({}, styleSelectedArea, { opacity: 1.0 }),\n                    muted: _extends({}, styleArea, { opacity: 0.2 })\n                }];\n                i += 1;\n            });\n            return style;\n        }\n    }]);\n\n    return Styler;\n}();\n\nfunction styler(columns, scheme) {\n    return new Styler(columns, scheme);\n}"]},"metadata":{},"sourceType":"script"}