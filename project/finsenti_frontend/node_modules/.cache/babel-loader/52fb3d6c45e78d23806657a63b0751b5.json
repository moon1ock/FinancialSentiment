{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n/**\n *  Copyright (c) 2015-present, The Regents of the University of California,\n *  through Lawrence Berkeley National Laboratory (subject to receipt\n *  of any required approvals from the U.S. Dept. of Energy).\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree.\n */\n\n\nvar _underscore = require(\"underscore\");\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _merge = require(\"merge\");\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _d3Shape = require(\"d3-shape\");\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _pondjs = require(\"pondjs\");\n\nvar _curve = require(\"../js/curve\");\n\nvar _curve2 = _interopRequireDefault(_curve);\n\nvar _styler = require(\"../js/styler\");\n\nvar _util = require(\"../js/util\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar defaultFillStyle = {\n  fill: \"steelblue\",\n  stroke: \"none\"\n};\nvar defaultMutedStyle = {\n  fill: \"grey\",\n  stroke: \"none\"\n};\nvar defaultStyle = [{\n  normal: _extends({}, defaultFillStyle, {\n    opacity: 0.2\n  }),\n  highlighted: _extends({}, defaultFillStyle, {\n    opacity: 0.3\n  }),\n  selected: _extends({}, defaultFillStyle, {\n    opacity: 0.3\n  }),\n  muted: _extends({}, defaultMutedStyle, {\n    opacity: 0.1\n  })\n}, {\n  normal: _extends({}, defaultFillStyle, {\n    opacity: 0.5\n  }),\n  highlighted: _extends({}, defaultFillStyle, {\n    opacity: 0.6\n  }),\n  selected: _extends({}, defaultFillStyle, {\n    opacity: 0.6\n  }),\n  muted: _extends({}, defaultMutedStyle, {\n    opacity: 0.2\n  })\n}, {\n  normal: _extends({}, defaultFillStyle, {\n    opacity: 0.9\n  }),\n  highlighted: _extends({}, defaultFillStyle, {\n    opacity: 1.0\n  }),\n  selected: _extends({}, defaultFillStyle, {\n    opacity: 1.0\n  }),\n  muted: _extends({}, defaultMutedStyle, {\n    opacity: 0.2\n  })\n}];\nvar defaultAggregation = {\n  size: \"5m\",\n  reducers: {\n    outer: [(0, _pondjs.min)(), (0, _pondjs.max)()],\n    inner: [(0, _pondjs.percentile)(25), (0, _pondjs.percentile)(75)],\n    center: (0, _pondjs.median)()\n  }\n};\n\nfunction getSeries(series, column) {\n  return series.map(function (e) {\n    var v = e.get(column);\n    var d = {};\n\n    switch (v.length) {\n      case 1:\n        d.center = v[0];\n        break;\n\n      case 2:\n        d.innerMin = v[0];\n        d.innerMax = v[1];\n        break;\n\n      case 3:\n        d.innerMin = v[0];\n        d.center = v[1];\n        d.innerMax = v[2];\n        break;\n\n      case 4:\n        d.outerMin = v[0];\n        d.innerMin = v[1];\n        d.innerMax = v[2];\n        d.outerMax = v[3];\n        break;\n\n      case 5:\n        d.outerMin = v[0];\n        d.innerMin = v[1];\n        d.center = v[2];\n        d.innerMax = v[3];\n        d.outerMax = v[4];\n        break;\n\n      default:\n        console.error(\"Tried to make boxchart from invalid array\");\n    }\n\n    var ee = new _pondjs.IndexedEvent(e.index(), d);\n    return ee;\n  });\n}\n\nfunction getAggregatedSeries(series, column) {\n  var aggregation = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultAggregation;\n  var size = aggregation.size,\n      reducers = aggregation.reducers;\n  var inner = reducers.inner,\n      outer = reducers.outer,\n      center = reducers.center;\n\n  function mapColumn(c, r) {\n    var obj = {};\n    obj[c] = r;\n    return obj;\n  }\n\n  var fixedWindowAggregation = {};\n\n  if (inner) {\n    fixedWindowAggregation.innerMin = mapColumn(column, inner[0]);\n    fixedWindowAggregation.innerMax = mapColumn(column, inner[1]);\n  }\n\n  if (outer) {\n    fixedWindowAggregation.outerMin = mapColumn(column, outer[0]);\n    fixedWindowAggregation.outerMax = mapColumn(column, outer[1]);\n  }\n\n  if (center) {\n    fixedWindowAggregation.center = mapColumn(column, center);\n  }\n\n  return series.fixedWindowRollup({\n    windowSize: size,\n    aggregation: fixedWindowAggregation\n  });\n}\n/**\n * Renders a band chart.\n *\n * The TimeSeries supplied to the band chart, as the `series` prop can be one of two types:\n *\n *  1) It can be a TimeSeries containing IndexedEvents or TimeRangeEvents.\n *     In this case a `column` prop should be supplied to specify the\n *     data column containing the dimensions of the boxes. This props\n *     should be an array of size 1 to 5 elements. e.g. [12, 18, 22, 28]. The\n *     numbers should be ordered, lowest to greatest.\n *\n *  2) A TimeSeries containing timestamp based Events. In this case the\n *     band chart will be aggregated for you. To control the aggregation you can supply\n *     an `aggregation` prop: a structure to specify the window size and\n *     reducers used to determine the boxes.\n *\n * In both cases you are generating up to two ranges and a center marker. In the\n * first case you are defining this based on the array of numbers. The outer numbers\n * specify the outerRange, the inner numbers specify the innerRange and the middle\n * number specifies the center marker. In the second case you are building those ranges\n * from denser data, specifying a window and aggregation functions to build each\n * of the ranges and center maker.\n *\n * In both cases you do not need to supply all the values. For example if you\n * provide an array of 2 elements, that would define a single range, with no outer range\n * and no center marker. The Band Chart is pretty flexible in that way, so you\n * can use it in many situations.\n *\n * Here is an example of using it to display temperature ranges. The series\n * passed to this code would be a TimeSeries containing IndexedEvents. For\n * each event, the column `temp` contains an array of values used for the\n * box plot ranges:\n *\n * ```\n *     <BandChart\n *       axis=\"temperatureAxis\"\n *       style={style}\n *       column=\"temp\"\n *       series={series} />\n * ```\n *\n * While here is an example with a dense TimeSeries of Events supplied,\n * along with an aggregation specification. This code would produce an\n * outer range from the 5th percentile to the 95th, along with an inner\n * range for the interquantile, and a center marker at the median:\n *\n * ```\n *    <BandChart\n *      axis=\"speedaxis\"\n *      series={speed}\n *      column=\"speed\"\n *      style={style}\n *      aggregation={{\n *        size: this.state.rollup,\n *        reducers: {\n *          outer: [percentile(5), percentile(95)],\n *          inner: [percentile(25), percentile(75)],\n *          center: median(),\n *        },\n *      }}\n *    />\n * ```\n */\n\n\nvar BandChart = function (_React$Component) {\n  _inherits(BandChart, _React$Component);\n\n  function BandChart(props) {\n    _classCallCheck(this, BandChart);\n\n    var _this = _possibleConstructorReturn(this, (BandChart.__proto__ || Object.getPrototypeOf(BandChart)).call(this, props));\n\n    if (props.series._collection._type === _pondjs.TimeEvent // eslint-disable-line\n    ) {\n      _this.series = getAggregatedSeries(props.series, props.column, props.aggregation);\n    } else {\n      _this.series = getSeries(props.series, props.column);\n    }\n\n    return _this;\n  }\n\n  _createClass(BandChart, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var aggregation = nextProps.aggregation;\n      var aggregationChanged = false;\n\n      if (_underscore2.default.isUndefined(aggregation) !== _underscore2.default.isUndefined(this.props.aggregation)) {\n        aggregationChanged = true;\n      }\n\n      if (aggregation && this.props.aggregation) {\n        if (aggregation.size !== this.props.aggregation.size) {\n          aggregationChanged = true;\n        }\n      }\n\n      if (aggregationChanged) {\n        this.series = getAggregatedSeries(nextProps.series, nextProps.column, nextProps.aggregation);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var newSeries = nextProps.series;\n      var oldSeries = this.props.series;\n      var width = nextProps.width;\n      var timeScale = nextProps.timeScale;\n      var yScale = nextProps.yScale;\n      var column = nextProps.column;\n      var style = nextProps.style;\n      var aggregation = nextProps.aggregation;\n      var highlighted = nextProps.highlighted;\n      var selected = nextProps.selected;\n      var widthChanged = this.props.width !== width;\n      var timeScaleChanged = (0, _util.scaleAsString)(this.props.timeScale) !== (0, _util.scaleAsString)(timeScale);\n      var yAxisScaleChanged = this.props.yScale !== yScale;\n      var columnChanged = this.props.column !== column;\n      var styleChanged = JSON.stringify(this.props.style) !== JSON.stringify(style);\n      var highlightedChanged = this.props.highlighted !== highlighted;\n      var selectedChanged = this.props.selected !== selected;\n      var aggregationChanged = false;\n\n      if (_underscore2.default.isUndefined(aggregation) !== _underscore2.default.isUndefined(this.props.aggregation)) {\n        aggregationChanged = true;\n      }\n\n      if (aggregation && this.props.aggregation) {\n        if (aggregation.size !== this.props.aggregation.size) {\n          aggregationChanged = true;\n        }\n      }\n\n      var seriesChanged = false;\n\n      if (oldSeries.size() !== newSeries.size()) {\n        seriesChanged = true;\n      } else {\n        seriesChanged = !_pondjs.TimeSeries.is(oldSeries, newSeries);\n      } // If the series changes we need to rebuild this.series with\n      // the incoming props\n\n\n      if (seriesChanged) {\n        if (nextProps.series._collection._type === _pondjs.TimeEvent // eslint-disable-line\n        ) {\n          this.series = getAggregatedSeries(nextProps.series, nextProps.column, nextProps.aggregation);\n        } else {\n          this.series = getSeries(nextProps.series, nextProps.column);\n        }\n      }\n\n      return seriesChanged || timeScaleChanged || widthChanged || columnChanged || styleChanged || yAxisScaleChanged || aggregationChanged || highlightedChanged || selectedChanged;\n    }\n  }, {\n    key: \"handleHover\",\n    value: function handleHover(e, event) {\n      if (this.props.onHighlightChange) {\n        this.props.onHighlightChange(event);\n      }\n    }\n  }, {\n    key: \"handleHoverLeave\",\n    value: function handleHoverLeave() {\n      if (this.props.onHighlightChange) {\n        this.props.onHighlightChange(null);\n      }\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e, event) {\n      if (this.props.onSelectionChange) {\n        this.props.onSelectionChange(event);\n      }\n\n      e.stopPropagation();\n    }\n  }, {\n    key: \"providedStyleArray\",\n    value: function providedStyleArray(column) {\n      var style = {};\n\n      if (this.props.style) {\n        if (this.props.style instanceof _styler.Styler) {\n          style = this.props.style.boxChartStyle()[column];\n        } else if (_underscore2.default.isFunction(this.props.style)) {\n          style = this.props.style(column);\n        } else if (_underscore2.default.isObject(this.props.style)) {\n          style = this.props.style ? this.props.style[column] : defaultStyle;\n        }\n      }\n\n      return style;\n    }\n    /**\n     * Returns the style used for drawing the path\n     */\n\n  }, {\n    key: \"style\",\n    value: function style(column, event, level) {\n      var style = void 0;\n\n      if (!this.providedStyle) {\n        this.providedStyle = this.providedStyleArray(this.props.column);\n      }\n\n      if (!_underscore2.default.isNull(this.providedStyle) && (!_underscore2.default.isArray(this.providedStyle) || this.providedStyle.length !== 3)) {\n        console.warn(\"Provided style to BandChart should be an array of 3 objects\");\n        return defaultStyle;\n      }\n\n      var isHighlighted = this.props.highlighted && _pondjs.Event.is(this.props.highlighted, event);\n\n      var isSelected = this.props.selected && _pondjs.Event.is(this.props.selected, event);\n\n      if (this.props.selected) {\n        if (isSelected) {\n          if (!this.selectedStyle || !this.selectedStyle[level]) {\n            if (!this.selectedStyle) {\n              this.selectedStyle = [];\n            }\n\n            this.selectedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].selected, this.providedStyle[level].selected ? this.providedStyle[level].selected : {});\n          }\n\n          style = this.selectedStyle[level];\n        } else if (isHighlighted) {\n          if (!this.highlightedStyle || !this.highlightedStyle[level]) {\n            if (!this.highlightedStyle) {\n              this.highlightedStyle = [];\n            }\n\n            this.highlightedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].highlighted, this.providedStyle[level].highlighted ? this.providedStyle[level].highlighted : {});\n          }\n\n          style = this.highlightedStyle[level];\n        } else {\n          if (!this.mutedStyle) {\n            this.mutedStyle = [];\n          }\n\n          if (!this.mutedStyle[level]) {\n            this.mutedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].muted, this.providedStyle[level].muted ? this.providedStyle[level].muted : {});\n          }\n\n          style = this.mutedStyle[level];\n        }\n      } else if (isHighlighted) {\n        style = (0, _merge2.default)(true, defaultStyle[level].highlighted, this.providedStyle[level].highlighted ? this.providedStyle[level].highlighted : {});\n      } else {\n        if (!this.normalStyle) {\n          this.normalStyle = [];\n        }\n\n        if (!this.normalStyle[level]) {\n          this.normalStyle[level] = (0, _merge2.default)(true, defaultStyle[level].normal, this.providedStyle[level].normal ? this.providedStyle[level].normal : {});\n        }\n\n        style = this.normalStyle[level];\n      }\n\n      return style;\n    }\n  }, {\n    key: \"renderAreas\",\n    value: function renderAreas() {\n      var _this2 = this;\n\n      var column = this.props.column;\n      var areas = [];\n      var styles = [];\n      styles[0] = this.style(column, event, 0); // eslint-disable-line\n\n      styles[1] = this.style(column, event, 1); // eslint-disable-line\n\n      styles[2] = this.style(column, event, 2); // eslint-disable-line\n      // Use D3 to build an area generation function\n\n      var areaGenerator = (0, _d3Shape.area)().curve(_curve2.default[this.props.interpolation]).x(function (d) {\n        return d.x0;\n      }).y0(function (d) {\n        return d.y0;\n      }).y1(function (d) {\n        return d.y1;\n      });\n      var columns = this.series.columns(); // How many areas are we drawing\n\n      var hasInner = true;\n      var hasOuter = true;\n\n      if (_underscore2.default.has(columns, \"innerMin\") || _underscore2.default.has(columns, \"innerMax\")) {\n        hasInner = false;\n      }\n\n      if (_underscore2.default.has(columns, \"outerMin\") || _underscore2.default.has(columns, \"outerMax\")) {\n        hasOuter = false;\n      } // Build the outer area if we have one\n\n\n      if (hasOuter) {\n        var level = 0;\n\n        if (!hasInner) {\n          level += 1;\n        }\n\n        var outerData = [];\n\n        for (var j = 0; j < this.series.size(); j += 1) {\n          var e = this.series.at(j);\n          var timestamp = new Date(e.begin().getTime() + (e.end().getTime() - e.begin().getTime()) / 2);\n          outerData.push({\n            x0: this.props.timeScale(timestamp),\n            y0: this.props.yScale(e.get(\"outerMin\")),\n            y1: this.props.yScale(e.get(\"outerMax\"))\n          });\n        }\n\n        var outerAreaPath = areaGenerator(outerData);\n        areas.push(_react2.default.createElement(\"g\", {\n          key: \"area-outer\"\n        }, _react2.default.createElement(\"path\", {\n          d: outerAreaPath,\n          style: styles[level],\n          onClick: function onClick(e) {\n            return _this2.handleClick(e, column);\n          },\n          onMouseLeave: function onMouseLeave() {\n            return _this2.handleHoverLeave();\n          },\n          onMouseMove: function onMouseMove(e) {\n            return _this2.handleHover(e, column);\n          }\n        })));\n      }\n\n      if (hasInner) {\n        var _level = 0;\n\n        if (!hasInner) {\n          _level += 1;\n        }\n\n        var innerData = [];\n\n        for (var _j = 0; _j < this.series.size(); _j += 1) {\n          var _e = this.series.at(_j);\n\n          var _timestamp = new Date(_e.begin().getTime() + (_e.end().getTime() - _e.begin().getTime()) / 2);\n\n          innerData.push({\n            x0: this.props.timeScale(_timestamp),\n            y0: this.props.yScale(_e.get(\"innerMin\")),\n            y1: this.props.yScale(_e.get(\"innerMax\"))\n          });\n        }\n\n        var innerAreaPath = areaGenerator(innerData);\n        areas.push(_react2.default.createElement(\"g\", {\n          key: \"area-inner\"\n        }, _react2.default.createElement(\"path\", {\n          d: innerAreaPath,\n          style: styles[_level],\n          onClick: function onClick(e) {\n            return _this2.handleClick(e, column);\n          },\n          onMouseLeave: function onMouseLeave() {\n            return _this2.handleHoverLeave();\n          },\n          onMouseMove: function onMouseMove(e) {\n            return _this2.handleHover(e, column);\n          }\n        })));\n      }\n\n      return _react2.default.createElement(\"g\", null, areas);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(\"g\", null, this.renderAreas());\n    }\n  }]);\n\n  return BandChart;\n}(_react2.default.Component);\n\nexports.default = BandChart;\nBandChart.propTypes = {\n  /**\n   * What [Pond TimeSeries](http://software.es.net/pond#timeseries)\n   * data to visualize. See general notes on the BandChart.\n   */\n  series: _propTypes2.default.instanceOf(_pondjs.TimeSeries).isRequired,\n\n  /*\n  series: (props, propName, componentName) => {\n      const value = props[propName];\n      if (!(value instanceof TimeSeries)) {\n      return new Error(\n          `A TimeSeries needs to be passed to ${componentName} as the 'series' prop.`\n      );\n      }\n       // TODO: Better detection of errors\n       // everything ok\n      return null;\n  },\n  */\n\n  /**\n   * The column within the TimeSeries to plot. Unlike other charts, the BandChart\n   * works on just a single column.\n   * \n   * NOTE : Columns can't have periods because periods \n   * represent a path to deep data in the underlying events \n   * (i.e. reference into nested data structures)\n   */\n  column: _propTypes2.default.string,\n\n  /**\n   * The aggregation specification. This object should contain:\n   *   - innerMax\n   *   - innerMin\n   *   - outerMax\n   *   - outerMin\n   *   - center\n   * Though each of the pairs, and center, is optional.\n   * For each of these keys you should supply the function you\n   * want to use to calculate these. You can import common functions\n   * from Pond, e.g. min(), avg(), percentile(95), etc.\n   *\n   * For example:\n   * ```\n   *     {\n   *       size: this.state.rollup,\n   *       reducers: {\n   *         outer: [min(), max()],\n   *         inner: [percentile(25), percentile(75)],\n   *         center: median(),\n   *       },\n   *     }\n   * ```\n   */\n  aggregation: _propTypes2.default.shape({\n    size: _propTypes2.default.string,\n    reducers: _propTypes2.default.shape({\n      inner: _propTypes2.default.arrayOf(_propTypes2.default.func),\n      // eslint-disable-line\n      outer: _propTypes2.default.arrayOf(_propTypes2.default.func),\n      // eslint-disable-line\n      center: _propTypes2.default.func // eslint-disable-line\n\n    })\n  }),\n  // eslint-disable-line\n\n  /**\n   * The style of the box chart drawing (using SVG CSS properties) or\n   * a styler object. It is recommended to user the styler unless you need\n   * detailed customization.\n   */\n  style: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func, _propTypes2.default.instanceOf(_styler.Styler)]),\n\n  /**\n   * The style of the info box and connecting lines\n   */\n  infoStyle: _propTypes2.default.object,\n  //eslint-disable-line\n\n  /**\n   * The width of the hover info box\n   */\n  infoWidth: _propTypes2.default.number,\n  //eslint-disable-line\n\n  /**\n   * The height of the hover info box\n   */\n  infoHeight: _propTypes2.default.number,\n  //eslint-disable-line\n\n  /**\n   * The values to show in the info box. This is an array of\n   * objects, with each object specifying the label and value\n   * to be shown in the info box.\n   */\n  info: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    //eslint-disable-line\n    label: _propTypes2.default.string,\n    //eslint-disable-line\n    value: _propTypes2.default.string //eslint-disable-line\n\n  })),\n\n  /**\n   * If spacing is specified, then the boxes will be separated from the\n   * timerange boundary by this number of pixels. Use this to space out\n   * the boxes from each other. Inner and outer boxes are controlled\n   * separately.\n   */\n  innerSpacing: _propTypes2.default.number,\n\n  /**\n   * If spacing is specified, then the boxes will be separated from the\n   * timerange boundary by this number of pixels. Use this to space out\n   * the boxes from each other. Inner and outer boxes are controlled\n   * separately.\n   */\n  outerSpacing: _propTypes2.default.number,\n\n  /**\n   * If size is specified, then the innerBox will be this number of pixels wide. This\n   * prop takes priority over \"spacing\".\n   */\n  innerSize: _propTypes2.default.number,\n\n  /**\n   * If size is specified, then the outer box will be this number of pixels wide. This\n   * prop takes priority over \"spacing\".\n   */\n  outerSize: _propTypes2.default.number,\n\n  /**\n   * The selected item, which will be rendered in the \"selected\" style.\n   * If a bar is selected, all other bars will be rendered in the \"muted\" style.\n   *\n   * See also `onSelectionChange`\n   */\n  selected: _propTypes2.default.instanceOf(_pondjs.IndexedEvent),\n\n  /**\n   * The highlighted item, which will be rendered in the \"highlighted\" style.\n   *\n   * See also `onHighlightChange`\n   */\n  highlighted: _propTypes2.default.instanceOf(_pondjs.IndexedEvent),\n\n  /**\n   * A callback that will be called when the selection changes. It will be called\n   * with the event corresponding to the box clicked as its only arg.\n   */\n  onSelectionChange: _propTypes2.default.func,\n\n  /**\n   * A callback that will be called when the hovered over box changes.\n   * It will be called with the event corresponding to the box hovered over.\n   */\n  onHighlightChange: _propTypes2.default.func,\n\n  /**\n   * [Internal] The timeScale supplied by the surrounding ChartContainer\n   */\n  timeScale: _propTypes2.default.func,\n\n  /**\n   * [Internal] The yScale supplied by the associated YAxis\n   */\n  yScale: _propTypes2.default.func,\n\n  /**\n   * [Internal] The width supplied by the surrounding ChartContainer\n   */\n  width: _propTypes2.default.number\n};\nBandChart.defaultProps = {\n  column: \"value\",\n  innerSpacing: 1.0,\n  outerSpacing: 2.0,\n  infoStyle: {\n    stroke: \"#999\",\n    fill: \"white\",\n    opacity: 0.9,\n    pointerEvents: \"none\"\n  },\n  stemStyle: {\n    stroke: \"#999\",\n    cursor: \"crosshair\",\n    pointerEvents: \"none\"\n  },\n  markerStyle: {\n    fill: \"#999\"\n  },\n  markerRadius: 2,\n  infoWidth: 90,\n  infoHeight: 30\n};","map":{"version":3,"sources":["/Users/nicholasraffone/Documents/swefall2021/finalproj/FinancialSentiment/fin_sentiment_front/node_modules/react-timeseries-charts/lib/components/BandChart.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_extends","assign","arguments","source","hasOwnProperty","call","_underscore","require","_underscore2","_interopRequireDefault","_merge","_merge2","_react","_react2","_d3Shape","_propTypes","_propTypes2","_pondjs","_curve","_curve2","_styler","_util","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","defaultFillStyle","fill","stroke","defaultMutedStyle","defaultStyle","normal","opacity","highlighted","selected","muted","defaultAggregation","size","reducers","outer","min","max","inner","percentile","center","median","getSeries","series","column","map","e","v","get","d","innerMin","innerMax","outerMin","outerMax","console","error","ee","IndexedEvent","index","getAggregatedSeries","aggregation","undefined","mapColumn","c","r","fixedWindowAggregation","fixedWindowRollup","windowSize","BandChart","_React$Component","_this","getPrototypeOf","_collection","_type","TimeEvent","componentWillReceiveProps","nextProps","aggregationChanged","isUndefined","shouldComponentUpdate","newSeries","oldSeries","width","timeScale","yScale","style","widthChanged","timeScaleChanged","scaleAsString","yAxisScaleChanged","columnChanged","styleChanged","JSON","stringify","highlightedChanged","selectedChanged","seriesChanged","TimeSeries","is","handleHover","event","onHighlightChange","handleHoverLeave","handleClick","onSelectionChange","stopPropagation","providedStyleArray","Styler","boxChartStyle","isFunction","isObject","level","providedStyle","isNull","isArray","warn","isHighlighted","Event","isSelected","selectedStyle","highlightedStyle","mutedStyle","normalStyle","renderAreas","_this2","areas","styles","areaGenerator","area","curve","interpolation","x","x0","y0","y1","columns","hasInner","hasOuter","has","outerData","j","at","timestamp","Date","begin","getTime","end","push","outerAreaPath","createElement","onClick","onMouseLeave","onMouseMove","_level","innerData","_j","_e","_timestamp","innerAreaPath","render","Component","propTypes","instanceOf","isRequired","string","shape","arrayOf","func","oneOfType","object","infoStyle","infoWidth","number","infoHeight","info","label","innerSpacing","outerSpacing","innerSize","outerSize","defaultProps","pointerEvents","stemStyle","cursor","markerStyle","markerRadius"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   *  Copyright (c) 2015-present, The Regents of the University of California,\n                                                                                                                                                                                                                                                                   *  through Lawrence Berkeley National Laboratory (subject to receipt\n                                                                                                                                                                                                                                                                   *  of any required approvals from the U.S. Dept. of Energy).\n                                                                                                                                                                                                                                                                   *  All rights reserved.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   *  This source code is licensed under the BSD-style license found in the\n                                                                                                                                                                                                                                                                   *  LICENSE file in the root directory of this source tree.\n                                                                                                                                                                                                                                                                   */\n\nvar _underscore = require(\"underscore\");\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _merge = require(\"merge\");\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _d3Shape = require(\"d3-shape\");\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _pondjs = require(\"pondjs\");\n\nvar _curve = require(\"../js/curve\");\n\nvar _curve2 = _interopRequireDefault(_curve);\n\nvar _styler = require(\"../js/styler\");\n\nvar _util = require(\"../js/util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar defaultFillStyle = {\n    fill: \"steelblue\",\n    stroke: \"none\"\n};\n\nvar defaultMutedStyle = {\n    fill: \"grey\",\n    stroke: \"none\"\n};\n\nvar defaultStyle = [{\n    normal: _extends({}, defaultFillStyle, { opacity: 0.2 }),\n    highlighted: _extends({}, defaultFillStyle, { opacity: 0.3 }),\n    selected: _extends({}, defaultFillStyle, { opacity: 0.3 }),\n    muted: _extends({}, defaultMutedStyle, { opacity: 0.1 })\n}, {\n    normal: _extends({}, defaultFillStyle, { opacity: 0.5 }),\n    highlighted: _extends({}, defaultFillStyle, { opacity: 0.6 }),\n    selected: _extends({}, defaultFillStyle, { opacity: 0.6 }),\n    muted: _extends({}, defaultMutedStyle, { opacity: 0.2 })\n}, {\n    normal: _extends({}, defaultFillStyle, { opacity: 0.9 }),\n    highlighted: _extends({}, defaultFillStyle, { opacity: 1.0 }),\n    selected: _extends({}, defaultFillStyle, { opacity: 1.0 }),\n    muted: _extends({}, defaultMutedStyle, { opacity: 0.2 })\n}];\n\nvar defaultAggregation = {\n    size: \"5m\",\n    reducers: {\n        outer: [(0, _pondjs.min)(), (0, _pondjs.max)()],\n        inner: [(0, _pondjs.percentile)(25), (0, _pondjs.percentile)(75)],\n        center: (0, _pondjs.median)()\n    }\n};\n\nfunction getSeries(series, column) {\n    return series.map(function (e) {\n        var v = e.get(column);\n        var d = {};\n        switch (v.length) {\n            case 1:\n                d.center = v[0];\n                break;\n            case 2:\n                d.innerMin = v[0];\n                d.innerMax = v[1];\n                break;\n            case 3:\n                d.innerMin = v[0];\n                d.center = v[1];\n                d.innerMax = v[2];\n                break;\n            case 4:\n                d.outerMin = v[0];\n                d.innerMin = v[1];\n                d.innerMax = v[2];\n                d.outerMax = v[3];\n                break;\n            case 5:\n                d.outerMin = v[0];\n                d.innerMin = v[1];\n                d.center = v[2];\n                d.innerMax = v[3];\n                d.outerMax = v[4];\n                break;\n            default:\n                console.error(\"Tried to make boxchart from invalid array\");\n        }\n        var ee = new _pondjs.IndexedEvent(e.index(), d);\n        return ee;\n    });\n}\n\nfunction getAggregatedSeries(series, column) {\n    var aggregation = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultAggregation;\n    var size = aggregation.size,\n        reducers = aggregation.reducers;\n    var inner = reducers.inner,\n        outer = reducers.outer,\n        center = reducers.center;\n\n\n    function mapColumn(c, r) {\n        var obj = {};\n        obj[c] = r;\n        return obj;\n    }\n\n    var fixedWindowAggregation = {};\n\n    if (inner) {\n        fixedWindowAggregation.innerMin = mapColumn(column, inner[0]);\n        fixedWindowAggregation.innerMax = mapColumn(column, inner[1]);\n    }\n\n    if (outer) {\n        fixedWindowAggregation.outerMin = mapColumn(column, outer[0]);\n        fixedWindowAggregation.outerMax = mapColumn(column, outer[1]);\n    }\n\n    if (center) {\n        fixedWindowAggregation.center = mapColumn(column, center);\n    }\n\n    return series.fixedWindowRollup({\n        windowSize: size,\n        aggregation: fixedWindowAggregation\n    });\n}\n\n/**\n * Renders a band chart.\n *\n * The TimeSeries supplied to the band chart, as the `series` prop can be one of two types:\n *\n *  1) It can be a TimeSeries containing IndexedEvents or TimeRangeEvents.\n *     In this case a `column` prop should be supplied to specify the\n *     data column containing the dimensions of the boxes. This props\n *     should be an array of size 1 to 5 elements. e.g. [12, 18, 22, 28]. The\n *     numbers should be ordered, lowest to greatest.\n *\n *  2) A TimeSeries containing timestamp based Events. In this case the\n *     band chart will be aggregated for you. To control the aggregation you can supply\n *     an `aggregation` prop: a structure to specify the window size and\n *     reducers used to determine the boxes.\n *\n * In both cases you are generating up to two ranges and a center marker. In the\n * first case you are defining this based on the array of numbers. The outer numbers\n * specify the outerRange, the inner numbers specify the innerRange and the middle\n * number specifies the center marker. In the second case you are building those ranges\n * from denser data, specifying a window and aggregation functions to build each\n * of the ranges and center maker.\n *\n * In both cases you do not need to supply all the values. For example if you\n * provide an array of 2 elements, that would define a single range, with no outer range\n * and no center marker. The Band Chart is pretty flexible in that way, so you\n * can use it in many situations.\n *\n * Here is an example of using it to display temperature ranges. The series\n * passed to this code would be a TimeSeries containing IndexedEvents. For\n * each event, the column `temp` contains an array of values used for the\n * box plot ranges:\n *\n * ```\n *     <BandChart\n *       axis=\"temperatureAxis\"\n *       style={style}\n *       column=\"temp\"\n *       series={series} />\n * ```\n *\n * While here is an example with a dense TimeSeries of Events supplied,\n * along with an aggregation specification. This code would produce an\n * outer range from the 5th percentile to the 95th, along with an inner\n * range for the interquantile, and a center marker at the median:\n *\n * ```\n *    <BandChart\n *      axis=\"speedaxis\"\n *      series={speed}\n *      column=\"speed\"\n *      style={style}\n *      aggregation={{\n *        size: this.state.rollup,\n *        reducers: {\n *          outer: [percentile(5), percentile(95)],\n *          inner: [percentile(25), percentile(75)],\n *          center: median(),\n *        },\n *      }}\n *    />\n * ```\n */\n\nvar BandChart = function (_React$Component) {\n    _inherits(BandChart, _React$Component);\n\n    function BandChart(props) {\n        _classCallCheck(this, BandChart);\n\n        var _this = _possibleConstructorReturn(this, (BandChart.__proto__ || Object.getPrototypeOf(BandChart)).call(this, props));\n\n        if (props.series._collection._type === _pondjs.TimeEvent // eslint-disable-line\n        ) {\n                _this.series = getAggregatedSeries(props.series, props.column, props.aggregation);\n            } else {\n            _this.series = getSeries(props.series, props.column);\n        }\n        return _this;\n    }\n\n    _createClass(BandChart, [{\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(nextProps) {\n            var aggregation = nextProps.aggregation;\n\n            var aggregationChanged = false;\n            if (_underscore2.default.isUndefined(aggregation) !== _underscore2.default.isUndefined(this.props.aggregation)) {\n                aggregationChanged = true;\n            }\n\n            if (aggregation && this.props.aggregation) {\n                if (aggregation.size !== this.props.aggregation.size) {\n                    aggregationChanged = true;\n                }\n            }\n\n            if (aggregationChanged) {\n                this.series = getAggregatedSeries(nextProps.series, nextProps.column, nextProps.aggregation);\n            }\n        }\n    }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps) {\n            var newSeries = nextProps.series;\n            var oldSeries = this.props.series;\n            var width = nextProps.width;\n            var timeScale = nextProps.timeScale;\n            var yScale = nextProps.yScale;\n            var column = nextProps.column;\n            var style = nextProps.style;\n            var aggregation = nextProps.aggregation;\n            var highlighted = nextProps.highlighted;\n            var selected = nextProps.selected;\n\n            var widthChanged = this.props.width !== width;\n            var timeScaleChanged = (0, _util.scaleAsString)(this.props.timeScale) !== (0, _util.scaleAsString)(timeScale);\n            var yAxisScaleChanged = this.props.yScale !== yScale;\n            var columnChanged = this.props.column !== column;\n            var styleChanged = JSON.stringify(this.props.style) !== JSON.stringify(style);\n            var highlightedChanged = this.props.highlighted !== highlighted;\n            var selectedChanged = this.props.selected !== selected;\n\n            var aggregationChanged = false;\n            if (_underscore2.default.isUndefined(aggregation) !== _underscore2.default.isUndefined(this.props.aggregation)) {\n                aggregationChanged = true;\n            }\n\n            if (aggregation && this.props.aggregation) {\n                if (aggregation.size !== this.props.aggregation.size) {\n                    aggregationChanged = true;\n                }\n            }\n\n            var seriesChanged = false;\n            if (oldSeries.size() !== newSeries.size()) {\n                seriesChanged = true;\n            } else {\n                seriesChanged = !_pondjs.TimeSeries.is(oldSeries, newSeries);\n            }\n\n            // If the series changes we need to rebuild this.series with\n            // the incoming props\n            if (seriesChanged) {\n                if (nextProps.series._collection._type === _pondjs.TimeEvent // eslint-disable-line\n                ) {\n                        this.series = getAggregatedSeries(nextProps.series, nextProps.column, nextProps.aggregation);\n                    } else {\n                    this.series = getSeries(nextProps.series, nextProps.column);\n                }\n            }\n\n            return seriesChanged || timeScaleChanged || widthChanged || columnChanged || styleChanged || yAxisScaleChanged || aggregationChanged || highlightedChanged || selectedChanged;\n        }\n    }, {\n        key: \"handleHover\",\n        value: function handleHover(e, event) {\n            if (this.props.onHighlightChange) {\n                this.props.onHighlightChange(event);\n            }\n        }\n    }, {\n        key: \"handleHoverLeave\",\n        value: function handleHoverLeave() {\n            if (this.props.onHighlightChange) {\n                this.props.onHighlightChange(null);\n            }\n        }\n    }, {\n        key: \"handleClick\",\n        value: function handleClick(e, event) {\n            if (this.props.onSelectionChange) {\n                this.props.onSelectionChange(event);\n            }\n            e.stopPropagation();\n        }\n    }, {\n        key: \"providedStyleArray\",\n        value: function providedStyleArray(column) {\n            var style = {};\n            if (this.props.style) {\n                if (this.props.style instanceof _styler.Styler) {\n                    style = this.props.style.boxChartStyle()[column];\n                } else if (_underscore2.default.isFunction(this.props.style)) {\n                    style = this.props.style(column);\n                } else if (_underscore2.default.isObject(this.props.style)) {\n                    style = this.props.style ? this.props.style[column] : defaultStyle;\n                }\n            }\n            return style;\n        }\n\n        /**\n         * Returns the style used for drawing the path\n         */\n\n    }, {\n        key: \"style\",\n        value: function style(column, event, level) {\n            var style = void 0;\n            if (!this.providedStyle) {\n                this.providedStyle = this.providedStyleArray(this.props.column);\n            }\n\n            if (!_underscore2.default.isNull(this.providedStyle) && (!_underscore2.default.isArray(this.providedStyle) || this.providedStyle.length !== 3)) {\n                console.warn(\"Provided style to BandChart should be an array of 3 objects\");\n                return defaultStyle;\n            }\n\n            var isHighlighted = this.props.highlighted && _pondjs.Event.is(this.props.highlighted, event);\n\n            var isSelected = this.props.selected && _pondjs.Event.is(this.props.selected, event);\n\n            if (this.props.selected) {\n                if (isSelected) {\n                    if (!this.selectedStyle || !this.selectedStyle[level]) {\n                        if (!this.selectedStyle) {\n                            this.selectedStyle = [];\n                        }\n                        this.selectedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].selected, this.providedStyle[level].selected ? this.providedStyle[level].selected : {});\n                    }\n                    style = this.selectedStyle[level];\n                } else if (isHighlighted) {\n                    if (!this.highlightedStyle || !this.highlightedStyle[level]) {\n                        if (!this.highlightedStyle) {\n                            this.highlightedStyle = [];\n                        }\n                        this.highlightedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].highlighted, this.providedStyle[level].highlighted ? this.providedStyle[level].highlighted : {});\n                    }\n                    style = this.highlightedStyle[level];\n                } else {\n                    if (!this.mutedStyle) {\n                        this.mutedStyle = [];\n                    }\n                    if (!this.mutedStyle[level]) {\n                        this.mutedStyle[level] = (0, _merge2.default)(true, defaultStyle[level].muted, this.providedStyle[level].muted ? this.providedStyle[level].muted : {});\n                    }\n                    style = this.mutedStyle[level];\n                }\n            } else if (isHighlighted) {\n                style = (0, _merge2.default)(true, defaultStyle[level].highlighted, this.providedStyle[level].highlighted ? this.providedStyle[level].highlighted : {});\n            } else {\n                if (!this.normalStyle) {\n                    this.normalStyle = [];\n                }\n                if (!this.normalStyle[level]) {\n                    this.normalStyle[level] = (0, _merge2.default)(true, defaultStyle[level].normal, this.providedStyle[level].normal ? this.providedStyle[level].normal : {});\n                }\n                style = this.normalStyle[level];\n            }\n            return style;\n        }\n    }, {\n        key: \"renderAreas\",\n        value: function renderAreas() {\n            var _this2 = this;\n\n            var column = this.props.column;\n\n\n            var areas = [];\n\n            var styles = [];\n            styles[0] = this.style(column, event, 0); // eslint-disable-line\n            styles[1] = this.style(column, event, 1); // eslint-disable-line\n            styles[2] = this.style(column, event, 2); // eslint-disable-line\n\n            // Use D3 to build an area generation function\n            var areaGenerator = (0, _d3Shape.area)().curve(_curve2.default[this.props.interpolation]).x(function (d) {\n                return d.x0;\n            }).y0(function (d) {\n                return d.y0;\n            }).y1(function (d) {\n                return d.y1;\n            });\n\n            var columns = this.series.columns();\n\n            // How many areas are we drawing\n            var hasInner = true;\n            var hasOuter = true;\n            if (_underscore2.default.has(columns, \"innerMin\") || _underscore2.default.has(columns, \"innerMax\")) {\n                hasInner = false;\n            }\n            if (_underscore2.default.has(columns, \"outerMin\") || _underscore2.default.has(columns, \"outerMax\")) {\n                hasOuter = false;\n            }\n\n            // Build the outer area if we have one\n            if (hasOuter) {\n                var level = 0;\n                if (!hasInner) {\n                    level += 1;\n                }\n\n                var outerData = [];\n                for (var j = 0; j < this.series.size(); j += 1) {\n                    var e = this.series.at(j);\n                    var timestamp = new Date(e.begin().getTime() + (e.end().getTime() - e.begin().getTime()) / 2);\n                    outerData.push({\n                        x0: this.props.timeScale(timestamp),\n                        y0: this.props.yScale(e.get(\"outerMin\")),\n                        y1: this.props.yScale(e.get(\"outerMax\"))\n                    });\n                }\n\n                var outerAreaPath = areaGenerator(outerData);\n\n                areas.push(_react2.default.createElement(\n                    \"g\",\n                    { key: \"area-outer\" },\n                    _react2.default.createElement(\"path\", {\n                        d: outerAreaPath,\n                        style: styles[level],\n                        onClick: function onClick(e) {\n                            return _this2.handleClick(e, column);\n                        },\n                        onMouseLeave: function onMouseLeave() {\n                            return _this2.handleHoverLeave();\n                        },\n                        onMouseMove: function onMouseMove(e) {\n                            return _this2.handleHover(e, column);\n                        }\n                    })\n                ));\n            }\n\n            if (hasInner) {\n                var _level = 0;\n                if (!hasInner) {\n                    _level += 1;\n                }\n\n                var innerData = [];\n                for (var _j = 0; _j < this.series.size(); _j += 1) {\n                    var _e = this.series.at(_j);\n                    var _timestamp = new Date(_e.begin().getTime() + (_e.end().getTime() - _e.begin().getTime()) / 2);\n                    innerData.push({\n                        x0: this.props.timeScale(_timestamp),\n                        y0: this.props.yScale(_e.get(\"innerMin\")),\n                        y1: this.props.yScale(_e.get(\"innerMax\"))\n                    });\n                }\n\n                var innerAreaPath = areaGenerator(innerData);\n\n                areas.push(_react2.default.createElement(\n                    \"g\",\n                    { key: \"area-inner\" },\n                    _react2.default.createElement(\"path\", {\n                        d: innerAreaPath,\n                        style: styles[_level],\n                        onClick: function onClick(e) {\n                            return _this2.handleClick(e, column);\n                        },\n                        onMouseLeave: function onMouseLeave() {\n                            return _this2.handleHoverLeave();\n                        },\n                        onMouseMove: function onMouseMove(e) {\n                            return _this2.handleHover(e, column);\n                        }\n                    })\n                ));\n            }\n\n            return _react2.default.createElement(\n                \"g\",\n                null,\n                areas\n            );\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"g\",\n                null,\n                this.renderAreas()\n            );\n        }\n    }]);\n\n    return BandChart;\n}(_react2.default.Component);\n\nexports.default = BandChart;\n\n\nBandChart.propTypes = {\n    /**\n     * What [Pond TimeSeries](http://software.es.net/pond#timeseries)\n     * data to visualize. See general notes on the BandChart.\n     */\n    series: _propTypes2.default.instanceOf(_pondjs.TimeSeries).isRequired,\n\n    /*\n    series: (props, propName, componentName) => {\n        const value = props[propName];\n        if (!(value instanceof TimeSeries)) {\n        return new Error(\n            `A TimeSeries needs to be passed to ${componentName} as the 'series' prop.`\n        );\n        }\n         // TODO: Better detection of errors\n         // everything ok\n        return null;\n    },\n    */\n\n    /**\n     * The column within the TimeSeries to plot. Unlike other charts, the BandChart\n     * works on just a single column.\n     * \n     * NOTE : Columns can't have periods because periods \n     * represent a path to deep data in the underlying events \n     * (i.e. reference into nested data structures)\n     */\n    column: _propTypes2.default.string,\n\n    /**\n     * The aggregation specification. This object should contain:\n     *   - innerMax\n     *   - innerMin\n     *   - outerMax\n     *   - outerMin\n     *   - center\n     * Though each of the pairs, and center, is optional.\n     * For each of these keys you should supply the function you\n     * want to use to calculate these. You can import common functions\n     * from Pond, e.g. min(), avg(), percentile(95), etc.\n     *\n     * For example:\n     * ```\n     *     {\n     *       size: this.state.rollup,\n     *       reducers: {\n     *         outer: [min(), max()],\n     *         inner: [percentile(25), percentile(75)],\n     *         center: median(),\n     *       },\n     *     }\n     * ```\n     */\n    aggregation: _propTypes2.default.shape({\n        size: _propTypes2.default.string,\n        reducers: _propTypes2.default.shape({\n            inner: _propTypes2.default.arrayOf(_propTypes2.default.func), // eslint-disable-line\n            outer: _propTypes2.default.arrayOf(_propTypes2.default.func), // eslint-disable-line\n            center: _propTypes2.default.func // eslint-disable-line\n        })\n    }), // eslint-disable-line\n\n    /**\n     * The style of the box chart drawing (using SVG CSS properties) or\n     * a styler object. It is recommended to user the styler unless you need\n     * detailed customization.\n     */\n    style: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func, _propTypes2.default.instanceOf(_styler.Styler)]),\n\n    /**\n     * The style of the info box and connecting lines\n     */\n    infoStyle: _propTypes2.default.object, //eslint-disable-line\n\n    /**\n     * The width of the hover info box\n     */\n    infoWidth: _propTypes2.default.number, //eslint-disable-line\n\n    /**\n     * The height of the hover info box\n     */\n    infoHeight: _propTypes2.default.number, //eslint-disable-line\n\n    /**\n     * The values to show in the info box. This is an array of\n     * objects, with each object specifying the label and value\n     * to be shown in the info box.\n     */\n    info: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n        //eslint-disable-line\n        label: _propTypes2.default.string, //eslint-disable-line\n        value: _propTypes2.default.string //eslint-disable-line\n    })),\n\n    /**\n     * If spacing is specified, then the boxes will be separated from the\n     * timerange boundary by this number of pixels. Use this to space out\n     * the boxes from each other. Inner and outer boxes are controlled\n     * separately.\n     */\n    innerSpacing: _propTypes2.default.number,\n\n    /**\n     * If spacing is specified, then the boxes will be separated from the\n     * timerange boundary by this number of pixels. Use this to space out\n     * the boxes from each other. Inner and outer boxes are controlled\n     * separately.\n     */\n    outerSpacing: _propTypes2.default.number,\n\n    /**\n     * If size is specified, then the innerBox will be this number of pixels wide. This\n     * prop takes priority over \"spacing\".\n     */\n    innerSize: _propTypes2.default.number,\n\n    /**\n     * If size is specified, then the outer box will be this number of pixels wide. This\n     * prop takes priority over \"spacing\".\n     */\n    outerSize: _propTypes2.default.number,\n\n    /**\n     * The selected item, which will be rendered in the \"selected\" style.\n     * If a bar is selected, all other bars will be rendered in the \"muted\" style.\n     *\n     * See also `onSelectionChange`\n     */\n    selected: _propTypes2.default.instanceOf(_pondjs.IndexedEvent),\n\n    /**\n     * The highlighted item, which will be rendered in the \"highlighted\" style.\n     *\n     * See also `onHighlightChange`\n     */\n    highlighted: _propTypes2.default.instanceOf(_pondjs.IndexedEvent),\n\n    /**\n     * A callback that will be called when the selection changes. It will be called\n     * with the event corresponding to the box clicked as its only arg.\n     */\n    onSelectionChange: _propTypes2.default.func,\n\n    /**\n     * A callback that will be called when the hovered over box changes.\n     * It will be called with the event corresponding to the box hovered over.\n     */\n    onHighlightChange: _propTypes2.default.func,\n\n    /**\n     * [Internal] The timeScale supplied by the surrounding ChartContainer\n     */\n    timeScale: _propTypes2.default.func,\n\n    /**\n     * [Internal] The yScale supplied by the associated YAxis\n     */\n    yScale: _propTypes2.default.func,\n\n    /**\n     * [Internal] The width supplied by the surrounding ChartContainer\n     */\n    width: _propTypes2.default.number\n};\n\nBandChart.defaultProps = {\n    column: \"value\",\n    innerSpacing: 1.0,\n    outerSpacing: 2.0,\n    infoStyle: {\n        stroke: \"#999\",\n        fill: \"white\",\n        opacity: 0.9,\n        pointerEvents: \"none\"\n    },\n    stemStyle: {\n        stroke: \"#999\",\n        cursor: \"crosshair\",\n        pointerEvents: \"none\"\n    },\n    markerStyle: {\n        fill: \"#999\"\n    },\n    markerRadius: 2,\n    infoWidth: 90,\n    infoHeight: 30\n};"]},"metadata":{},"sourceType":"script"}