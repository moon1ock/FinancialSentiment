{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _underscore = require(\"underscore\");\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _merge = require(\"merge\");\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _pondjs = require(\"pondjs\");\n\nvar _EventMarker = require(\"./EventMarker\");\n\nvar _EventMarker2 = _interopRequireDefault(_EventMarker);\n\nvar _util = require(\"../js/util\");\n\nvar _styler = require(\"../js/styler\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n *  Copyright (c) 2015-present, The Regents of the University of California,\n *  through Lawrence Berkeley National Laboratory (subject to receipt\n *  of any required approvals from the U.S. Dept. of Energy).\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree.\n */\n// eslint-disable-line\n\n\nvar defaultStyle = {\n  normal: {\n    fill: \"steelblue\",\n    opacity: 0.8\n  },\n  highlighted: {\n    fill: \"steelblue\",\n    opacity: 1.0\n  },\n  selected: {\n    fill: \"steelblue\",\n    opacity: 1.0\n  },\n  muted: {\n    fill: \"steelblue\",\n    opacity: 0.4\n  }\n};\n/**\n * The `<ScatterChart >` widget is able to display multiple columns of a series\n * scattered across a time axis.\n *\n * The ScatterChart should be used within `<ChartContainer>` etc.,\n * as this will construct the horizontal and vertical axis, and\n * manage other elements. As with other charts, this lets them be stacked or\n * overlaid on top of each other.\n *\n * A custom info overlay lets you hover over the data and examine points. Points\n * can be selected or highlighted.\n *\n * ```\n * <ChartContainer timeRange={series.timerange()}>\n *     <ChartRow height=\"150\">\n *         <YAxis id=\"wind\" label=\"Wind gust (mph)\" labelOffset={-5}\n *                min={0} max={series.max()} width=\"100\" type=\"linear\" format=\",.1f\"/>\n *         <Charts>\n *             <ScatterChart\n *               axis=\"wind\"\n *               series={series}\n *               style={{color: \"steelblue\", opacity: 0.5}} />\n *         </Charts>\n *     </ChartRow>\n * </ChartContainer>\n * ```\n *\n * ### Styling\n *\n * A scatter chart supports per-column or per-event styling. Styles can be set for\n * each of the four states that are possible for each event: normal, highlighted,\n * selected or muted. To style per-column, supply an object. For per-event styling\n * supply a function: `(event, column) => {}` The functon will return a style object.\n * See the `style` prop in the API documentation for more information.\n *\n * Separately the size of the dots can be controlled with the `radius` prop. This\n * can either be a fixed value (e.g. 2.0), or a function. If a function is supplied\n * it will be called as `(event, column) => {}` and should return the size.\n *\n * The hover info for each point is also able to be styled using the info style.\n * This enables you to control the drawing of the box and connecting lines. Using\n * the `infoWidth` and `infoHeight` props you can control the size of the box, which\n * is fixed.\n */\n\nvar ScatterChart = function (_React$Component) {\n  _inherits(ScatterChart, _React$Component);\n\n  function ScatterChart(props) {\n    _classCallCheck(this, ScatterChart);\n\n    var _this = _possibleConstructorReturn(this, (ScatterChart.__proto__ || Object.getPrototypeOf(ScatterChart)).call(this, props));\n\n    _this.handleHover = _this.handleHover.bind(_this);\n    _this.handleHoverLeave = _this.handleHoverLeave.bind(_this);\n    return _this;\n  } // get the event mouse position relative to the event rect\n\n\n  _createClass(ScatterChart, [{\n    key: \"getOffsetMousePosition\",\n    value: function getOffsetMousePosition(e) {\n      var offset = (0, _util.getElementOffset)(this.eventrect);\n      var x = e.pageX - offset.left;\n      var y = e.pageY - offset.top;\n      return [Math.round(x), Math.round(y)];\n    } //\n    // Event handlers\n    //\n\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e, event, column) {\n      var point = {\n        event: event,\n        column: column\n      };\n\n      if (this.props.onSelectionChange) {\n        this.props.onSelectionChange(point);\n      }\n    }\n  }, {\n    key: \"handleHover\",\n    value: function handleHover(e) {\n      var _getOffsetMousePositi = this.getOffsetMousePosition(e),\n          _getOffsetMousePositi2 = _slicedToArray(_getOffsetMousePositi, 2),\n          x = _getOffsetMousePositi2[0],\n          y = _getOffsetMousePositi2[1];\n\n      var point = void 0;\n      var minDistance = Infinity;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.props.columns[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var column = _step.value;\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = this.props.series.events()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var event = _step2.value;\n              var t = event.timestamp();\n              var value = event.get(column);\n              var px = this.props.timeScale(t);\n              var py = this.props.yScale(value);\n              var distance = Math.sqrt((px - x) * (px - x) + (py - y) * (py - y));\n\n              if (distance < minDistance) {\n                point = {\n                  event: event,\n                  column: column\n                };\n                minDistance = distance;\n              }\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (this.props.onMouseNear) {\n        this.props.onMouseNear(point);\n      }\n    }\n  }, {\n    key: \"handleHoverLeave\",\n    value: function handleHoverLeave() {\n      if (this.props.onMouseNear) {\n        this.props.onMouseNear(null);\n      }\n    } //\n    // Internal methods\n    //\n\n  }, {\n    key: \"providedStyleMap\",\n    value: function providedStyleMap(column, event) {\n      var style = {};\n\n      if (this.props.style) {\n        if (this.props.style instanceof _styler.Styler) {\n          style = this.props.style.scatterChartStyle()[column];\n        } else if (_underscore2.default.isFunction(this.props.style)) {\n          style = this.props.style(column, event);\n        } else if (_underscore2.default.isObject(this.props.style)) {\n          style = this.props.style ? this.props.style[column] : defaultStyle;\n        }\n      }\n\n      return style;\n    }\n    /**\n     * Returns the style used for drawing the path\n     */\n\n  }, {\n    key: \"style\",\n    value: function style(column, event) {\n      var style = void 0;\n      var styleMap = this.providedStyleMap(column, event);\n\n      var isHighlighted = this.props.highlight && column === this.props.highlight.column && _pondjs.Event.is(this.props.highlight.event, event);\n\n      var isSelected = this.props.selected && column === this.props.selected.column && _pondjs.Event.is(this.props.selected.event, event);\n\n      if (this.props.selected) {\n        if (isSelected) {\n          style = (0, _merge2.default)(true, defaultStyle.selected, styleMap.selected ? styleMap.selected : {});\n        } else if (isHighlighted) {\n          style = (0, _merge2.default)(true, defaultStyle.highlighted, styleMap.highlighted ? styleMap.highlighted : {});\n        } else {\n          style = (0, _merge2.default)(true, defaultStyle.muted, styleMap.muted ? styleMap.muted : {});\n        }\n      } else if (isHighlighted) {\n        style = (0, _merge2.default)(true, defaultStyle.highlighted, styleMap.highlighted ? styleMap.highlighted : {});\n      } else {\n        style = (0, _merge2.default)(true, defaultStyle.normal, styleMap.normal ? styleMap.normal : {});\n      }\n\n      return style;\n    } //\n    // Render\n    //\n\n  }, {\n    key: \"renderScatter\",\n    value: function renderScatter() {\n      var _this2 = this;\n\n      var _props = this.props,\n          series = _props.series,\n          timeScale = _props.timeScale,\n          yScale = _props.yScale;\n      var points = [];\n      var hoverOverlay = void 0; // if selectionChange is enabled, pointerEvents should be enabled as well\n\n      var pointerEvents = this.props.onSelectionChange ? \"auto\" : \"none\";\n      this.props.columns.forEach(function (column) {\n        var key = 1;\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          var _loop = function _loop() {\n            var event = _step3.value;\n            var t = new Date(event.begin().getTime() + (event.end().getTime() - event.begin().getTime()) / 2);\n            var value = event.get(column);\n\n            var badPoint = _underscore2.default.isNull(value) || _underscore2.default.isNaN(value) || _underscore2.default.isUndefined(value);\n\n            var style = _this2.style(column, event);\n\n            if (!badPoint) {\n              var x = timeScale(t);\n              var y = yScale(value);\n              var radius = _underscore2.default.isFunction(_this2.props.radius) ? _this2.props.radius(event, column) : +_this2.props.radius;\n\n              var isHighlighted = _this2.props.highlight && _pondjs.Event.is(_this2.props.highlight.event, event) && column === _this2.props.highlight.column; // Hover info. Note that we just pass all of our props down\n              // into the EventMarker here, but the interesting ones are:\n              // * the info values themselves\n              // * the infoStyle\n              // * infoWidth and infoHeight\n\n\n              if (isHighlighted && _this2.props.info) {\n                hoverOverlay = _react2.default.createElement(_EventMarker2.default, _extends({}, _this2.props, {\n                  event: event,\n                  column: column,\n                  marker: \"circle\",\n                  markerRadius: 0\n                }));\n              }\n\n              points.push(_react2.default.createElement(\"circle\", {\n                key: column + \"-\" + key,\n                cx: x,\n                cy: y,\n                r: radius,\n                style: style,\n                pointerEvents: pointerEvents,\n                onMouseMove: _this2.handleHover,\n                onClick: function onClick(e) {\n                  return _this2.handleClick(e, event, column);\n                }\n              }));\n              key += 1;\n            }\n          };\n\n          for (var _iterator3 = series.events()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            _loop();\n          }\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n              _iterator3.return();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n      });\n      return _react2.default.createElement(\"g\", null, points, hoverOverlay);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return _react2.default.createElement(\"g\", null, _react2.default.createElement(\"rect\", {\n        key: \"scatter-hit-rect\",\n        ref: function ref(c) {\n          _this3.eventrect = c;\n        },\n        style: {\n          opacity: 0.0\n        },\n        x: 0,\n        y: 0,\n        width: this.props.width,\n        height: this.props.height,\n        onMouseMove: this.handleHover,\n        onMouseLeave: this.handleHoverLeave\n      }), this.renderScatter());\n    }\n  }]);\n\n  return ScatterChart;\n}(_react2.default.Component);\n\nexports.default = ScatterChart;\nScatterChart.propTypes = {\n  /**\n   * Show or hide this chart\n   */\n  visible: _propTypes2.default.bool,\n\n  /**\n   * What [Pond TimeSeries](https://esnet-pondjs.appspot.com/#/timeseries) data to visualize\n   */\n  series: _propTypes2.default.instanceOf(_pondjs.TimeSeries).isRequired,\n\n  /**\n   * Which columns of the series to render\n   *\n   * NOTE : Columns can't have periods because periods\n   * represent a path to deep data in the underlying events\n   * (i.e. reference into nested data structures)\n   */\n  columns: _propTypes2.default.arrayOf(_propTypes2.default.string),\n\n  /**\n   * Reference to the axis which provides the vertical scale for drawing. e.g.\n   * specifying axis=\"trafficRate\" would refer the y-scale to the YAxis of id=\"trafficRate\".\n   */\n  axis: _propTypes2.default.string.isRequired,\n  // eslint-disable-line\n\n  /**\n   * The radius of the points in the scatter chart.\n   *\n   * If this is a number it will be used as the radius for every point.\n   * If this is a function it will be called for each event.\n   *\n   * The function is called with the event and the column name and must return a number.\n   *\n   * For example this function will use the radius column of the event:\n   *\n   * ```\n   * const radius = (event, column) => {\n   *    return event.get(\"radius\");\n   * }\n   * ```\n   */\n  radius: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.func, _propTypes2.default.instanceOf(_styler.Styler)]),\n\n  /**\n   * The style of the scatter chart drawing (using SVG CSS properties).\n   * This is an object with a key for each column which is being plotted,\n   * per the `columns` prop. Each of those keys has an object as its\n   * value which has keys which are style properties for an SVG <Circle> and\n   * the value to use.\n   *\n   * For example:\n   * ```\n   * style = {\n   *     columnName: {\n   *         normal: {\n   *             fill: \"steelblue\",\n   *             opacity: 0.8,\n   *         },\n   *         highlighted: {\n   *             fill: \"#a7c4dd\",\n   *             opacity: 1.0,\n   *         },\n   *         selected: {\n   *             fill: \"orange\",\n   *             opacity: 1.0,\n   *         },\n   *         muted: {\n   *             fill: \"grey\",\n   *             opacity: 0.5\n   *         }\n   *     }\n   * }\n   * ```\n   *\n   * You can also supply a function, which will be called with an event\n   * and column. The function should return an object containing the\n   * 4 states (normal, highlighted, selected and muted) and the corresponding\n   * CSS properties.\n   */\n  style: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func]),\n\n  /**\n   * The style of the info box and connecting lines. The style should\n   * be an object of the form { line, box }. Line and box are both objects\n   * containing the inline CSS for those elements of the info tracker.\n   */\n  infoStyle: _propTypes2.default.shape({\n    line: _propTypes2.default.object,\n    // eslint-disable-line\n    box: _propTypes2.default.object // eslint-disable-line\n\n  }),\n\n  /**\n   * The width of the hover info box\n   */\n  infoWidth: _propTypes2.default.number,\n  // eslint-disable-line\n\n  /**\n   * The height of the hover info box\n   */\n  infoHeight: _propTypes2.default.number,\n  // eslint-disable-line\n\n  /**\n   * The vertical offset in pixels of the EventMarker info box from the\n   * top of the chart.\n   */\n  infoOffsetY: _propTypes2.default.number,\n\n  /**\n   * The values to show in the info box. This is an array of\n   * objects, with each object specifying the label and value\n   * to be shown in the info box.\n   */\n  info: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    label: _propTypes2.default.string,\n    // eslint-disable-line\n    value: _propTypes2.default.string // eslint-disable-line\n\n  })),\n\n  /**\n   * The selected dot, which will be rendered in the \"selected\" style.\n   * If a dot is selected, all other dots will be rendered in the \"muted\" style.\n   *\n   * See also `onSelectionChange`\n   */\n  selected: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    event: _propTypes2.default.instanceOf(_pondjs.Event),\n    column: _propTypes2.default.string\n  })),\n\n  /**\n   * A callback that will be called when the selection changes. It will be called\n   * with an object containing the event and column.\n   */\n  onSelectionChange: _propTypes2.default.func,\n\n  /**\n   * The highlighted dot, as an object containing the { event, column },\n   * which will be rendered in the \"highlighted\" style.\n   *\n   * See also the prop `onMouseNear`.\n   */\n  highlight: _propTypes2.default.shape({\n    event: _propTypes2.default.instanceOf(_pondjs.Event),\n    column: _propTypes2.default.string\n  }),\n\n  /**\n   * Will be called with the nearest point to the cursor. The callback\n   * will contain the point, which is a map of { event, column }.\n   */\n  onMouseNear: _propTypes2.default.func,\n\n  /**\n   * [Internal] The timeScale supplied by the surrounding ChartContainer\n   */\n  timeScale: _propTypes2.default.func,\n\n  /**\n   * [Internal] The yScale supplied by the associated YAxis\n   */\n  yScale: _propTypes2.default.func,\n\n  /**\n   * [Internal] The width supplied by the surrounding ChartContainer\n   */\n  width: _propTypes2.default.number,\n\n  /**\n   * [Internal] The height supplied by the surrounding ChartContainer\n   */\n  height: _propTypes2.default.number\n};\nScatterChart.defaultProps = {\n  visible: true,\n  columns: [\"value\"],\n  radius: 2.0,\n  infoStyle: {\n    stroke: \"#999\",\n    fill: \"white\",\n    opacity: 0.9,\n    pointerEvents: \"none\"\n  },\n  stemStyle: {\n    stroke: \"#999\",\n    cursor: \"crosshair\",\n    pointerEvents: \"none\"\n  },\n  markerStyle: {\n    fill: \"#999\"\n  },\n  infoWidth: 90,\n  infoHeight: 30,\n  infoOffsetY: 20\n};","map":{"version":3,"sources":["/Users/nicholasraffone/Documents/swefall2021/finalproj/FinancialSentiment/fin_sentiment_front/node_modules/react-timeseries-charts/lib/components/ScatterChart.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","err","Array","isArray","TypeError","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_underscore","require","_underscore2","_interopRequireDefault","_merge","_merge2","_react","_react2","_propTypes","_propTypes2","_reactDom","_reactDom2","_pondjs","_EventMarker","_EventMarker2","_util","_styler","obj","__esModule","default","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","defaultStyle","normal","fill","opacity","highlighted","selected","muted","ScatterChart","_React$Component","_this","getPrototypeOf","handleHover","bind","handleHoverLeave","getOffsetMousePosition","e","offset","getElementOffset","eventrect","x","pageX","left","y","pageY","top","Math","round","handleClick","event","column","point","onSelectionChange","_getOffsetMousePositi","_getOffsetMousePositi2","minDistance","Infinity","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","columns","_step","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","series","events","_step2","t","timestamp","get","px","timeScale","py","yScale","distance","sqrt","return","onMouseNear","providedStyleMap","style","Styler","scatterChartStyle","isFunction","isObject","styleMap","isHighlighted","highlight","Event","is","isSelected","renderScatter","_this2","_props","points","hoverOverlay","pointerEvents","forEach","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_loop","_step3","Date","begin","getTime","end","badPoint","isNull","isNaN","isUndefined","radius","info","createElement","marker","markerRadius","cx","cy","r","onMouseMove","onClick","_iterator3","render","_this3","ref","c","width","height","onMouseLeave","Component","propTypes","visible","bool","instanceOf","TimeSeries","isRequired","arrayOf","string","axis","oneOfType","number","func","object","infoStyle","shape","line","box","infoWidth","infoHeight","infoOffsetY","label","defaultProps","stroke","stemStyle","cursor","markerStyle"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _underscore = require(\"underscore\");\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _merge = require(\"merge\");\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _pondjs = require(\"pondjs\");\n\nvar _EventMarker = require(\"./EventMarker\");\n\nvar _EventMarker2 = _interopRequireDefault(_EventMarker);\n\nvar _util = require(\"../js/util\");\n\nvar _styler = require(\"../js/styler\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  Copyright (c) 2015-present, The Regents of the University of California,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  through Lawrence Berkeley National Laboratory (subject to receipt\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  of any required approvals from the U.S. Dept. of Energy).\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  All rights reserved.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  This source code is licensed under the BSD-style license found in the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  LICENSE file in the root directory of this source tree.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n// eslint-disable-line\n\n\nvar defaultStyle = {\n    normal: { fill: \"steelblue\", opacity: 0.8 },\n    highlighted: { fill: \"steelblue\", opacity: 1.0 },\n    selected: { fill: \"steelblue\", opacity: 1.0 },\n    muted: { fill: \"steelblue\", opacity: 0.4 }\n};\n\n/**\n * The `<ScatterChart >` widget is able to display multiple columns of a series\n * scattered across a time axis.\n *\n * The ScatterChart should be used within `<ChartContainer>` etc.,\n * as this will construct the horizontal and vertical axis, and\n * manage other elements. As with other charts, this lets them be stacked or\n * overlaid on top of each other.\n *\n * A custom info overlay lets you hover over the data and examine points. Points\n * can be selected or highlighted.\n *\n * ```\n * <ChartContainer timeRange={series.timerange()}>\n *     <ChartRow height=\"150\">\n *         <YAxis id=\"wind\" label=\"Wind gust (mph)\" labelOffset={-5}\n *                min={0} max={series.max()} width=\"100\" type=\"linear\" format=\",.1f\"/>\n *         <Charts>\n *             <ScatterChart\n *               axis=\"wind\"\n *               series={series}\n *               style={{color: \"steelblue\", opacity: 0.5}} />\n *         </Charts>\n *     </ChartRow>\n * </ChartContainer>\n * ```\n *\n * ### Styling\n *\n * A scatter chart supports per-column or per-event styling. Styles can be set for\n * each of the four states that are possible for each event: normal, highlighted,\n * selected or muted. To style per-column, supply an object. For per-event styling\n * supply a function: `(event, column) => {}` The functon will return a style object.\n * See the `style` prop in the API documentation for more information.\n *\n * Separately the size of the dots can be controlled with the `radius` prop. This\n * can either be a fixed value (e.g. 2.0), or a function. If a function is supplied\n * it will be called as `(event, column) => {}` and should return the size.\n *\n * The hover info for each point is also able to be styled using the info style.\n * This enables you to control the drawing of the box and connecting lines. Using\n * the `infoWidth` and `infoHeight` props you can control the size of the box, which\n * is fixed.\n */\n\nvar ScatterChart = function (_React$Component) {\n    _inherits(ScatterChart, _React$Component);\n\n    function ScatterChart(props) {\n        _classCallCheck(this, ScatterChart);\n\n        var _this = _possibleConstructorReturn(this, (ScatterChart.__proto__ || Object.getPrototypeOf(ScatterChart)).call(this, props));\n\n        _this.handleHover = _this.handleHover.bind(_this);\n        _this.handleHoverLeave = _this.handleHoverLeave.bind(_this);\n        return _this;\n    }\n\n    // get the event mouse position relative to the event rect\n\n\n    _createClass(ScatterChart, [{\n        key: \"getOffsetMousePosition\",\n        value: function getOffsetMousePosition(e) {\n            var offset = (0, _util.getElementOffset)(this.eventrect);\n            var x = e.pageX - offset.left;\n            var y = e.pageY - offset.top;\n            return [Math.round(x), Math.round(y)];\n        }\n\n        //\n        // Event handlers\n        //\n\n    }, {\n        key: \"handleClick\",\n        value: function handleClick(e, event, column) {\n            var point = { event: event, column: column };\n            if (this.props.onSelectionChange) {\n                this.props.onSelectionChange(point);\n            }\n        }\n    }, {\n        key: \"handleHover\",\n        value: function handleHover(e) {\n            var _getOffsetMousePositi = this.getOffsetMousePosition(e),\n                _getOffsetMousePositi2 = _slicedToArray(_getOffsetMousePositi, 2),\n                x = _getOffsetMousePositi2[0],\n                y = _getOffsetMousePositi2[1];\n\n            var point = void 0;\n            var minDistance = Infinity;\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = this.props.columns[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var column = _step.value;\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = this.props.series.events()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var event = _step2.value;\n\n                            var t = event.timestamp();\n                            var value = event.get(column);\n                            var px = this.props.timeScale(t);\n                            var py = this.props.yScale(value);\n                            var distance = Math.sqrt((px - x) * (px - x) + (py - y) * (py - y));\n                            if (distance < minDistance) {\n                                point = { event: event, column: column };\n                                minDistance = distance;\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            if (this.props.onMouseNear) {\n                this.props.onMouseNear(point);\n            }\n        }\n    }, {\n        key: \"handleHoverLeave\",\n        value: function handleHoverLeave() {\n            if (this.props.onMouseNear) {\n                this.props.onMouseNear(null);\n            }\n        }\n\n        //\n        // Internal methods\n        //\n\n    }, {\n        key: \"providedStyleMap\",\n        value: function providedStyleMap(column, event) {\n            var style = {};\n            if (this.props.style) {\n                if (this.props.style instanceof _styler.Styler) {\n                    style = this.props.style.scatterChartStyle()[column];\n                } else if (_underscore2.default.isFunction(this.props.style)) {\n                    style = this.props.style(column, event);\n                } else if (_underscore2.default.isObject(this.props.style)) {\n                    style = this.props.style ? this.props.style[column] : defaultStyle;\n                }\n            }\n            return style;\n        }\n\n        /**\n         * Returns the style used for drawing the path\n         */\n\n    }, {\n        key: \"style\",\n        value: function style(column, event) {\n            var style = void 0;\n\n            var styleMap = this.providedStyleMap(column, event);\n\n            var isHighlighted = this.props.highlight && column === this.props.highlight.column && _pondjs.Event.is(this.props.highlight.event, event);\n            var isSelected = this.props.selected && column === this.props.selected.column && _pondjs.Event.is(this.props.selected.event, event);\n\n            if (this.props.selected) {\n                if (isSelected) {\n                    style = (0, _merge2.default)(true, defaultStyle.selected, styleMap.selected ? styleMap.selected : {});\n                } else if (isHighlighted) {\n                    style = (0, _merge2.default)(true, defaultStyle.highlighted, styleMap.highlighted ? styleMap.highlighted : {});\n                } else {\n                    style = (0, _merge2.default)(true, defaultStyle.muted, styleMap.muted ? styleMap.muted : {});\n                }\n            } else if (isHighlighted) {\n                style = (0, _merge2.default)(true, defaultStyle.highlighted, styleMap.highlighted ? styleMap.highlighted : {});\n            } else {\n                style = (0, _merge2.default)(true, defaultStyle.normal, styleMap.normal ? styleMap.normal : {});\n            }\n\n            return style;\n        }\n\n        //\n        // Render\n        //\n\n    }, {\n        key: \"renderScatter\",\n        value: function renderScatter() {\n            var _this2 = this;\n\n            var _props = this.props,\n                series = _props.series,\n                timeScale = _props.timeScale,\n                yScale = _props.yScale;\n\n            var points = [];\n            var hoverOverlay = void 0;\n\n            // if selectionChange is enabled, pointerEvents should be enabled as well\n            var pointerEvents = this.props.onSelectionChange ? \"auto\" : \"none\";\n\n            this.props.columns.forEach(function (column) {\n                var key = 1;\n                var _iteratorNormalCompletion3 = true;\n                var _didIteratorError3 = false;\n                var _iteratorError3 = undefined;\n\n                try {\n                    var _loop = function _loop() {\n                        var event = _step3.value;\n\n                        var t = new Date(event.begin().getTime() + (event.end().getTime() - event.begin().getTime()) / 2);\n                        var value = event.get(column);\n                        var badPoint = _underscore2.default.isNull(value) || _underscore2.default.isNaN(value) || _underscore2.default.isUndefined(value);\n                        var style = _this2.style(column, event);\n\n                        if (!badPoint) {\n                            var x = timeScale(t);\n                            var y = yScale(value);\n\n                            var radius = _underscore2.default.isFunction(_this2.props.radius) ? _this2.props.radius(event, column) : +_this2.props.radius;\n\n                            var isHighlighted = _this2.props.highlight && _pondjs.Event.is(_this2.props.highlight.event, event) && column === _this2.props.highlight.column;\n\n                            // Hover info. Note that we just pass all of our props down\n                            // into the EventMarker here, but the interesting ones are:\n                            // * the info values themselves\n                            // * the infoStyle\n                            // * infoWidth and infoHeight\n                            if (isHighlighted && _this2.props.info) {\n                                hoverOverlay = _react2.default.createElement(_EventMarker2.default, _extends({}, _this2.props, {\n                                    event: event,\n                                    column: column,\n                                    marker: \"circle\",\n                                    markerRadius: 0\n                                }));\n                            }\n\n                            points.push(_react2.default.createElement(\"circle\", {\n                                key: column + \"-\" + key,\n                                cx: x,\n                                cy: y,\n                                r: radius,\n                                style: style,\n                                pointerEvents: pointerEvents,\n                                onMouseMove: _this2.handleHover,\n                                onClick: function onClick(e) {\n                                    return _this2.handleClick(e, event, column);\n                                }\n                            }));\n\n                            key += 1;\n                        }\n                    };\n\n                    for (var _iterator3 = series.events()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                        _loop();\n                    }\n                } catch (err) {\n                    _didIteratorError3 = true;\n                    _iteratorError3 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                            _iterator3.return();\n                        }\n                    } finally {\n                        if (_didIteratorError3) {\n                            throw _iteratorError3;\n                        }\n                    }\n                }\n            });\n\n            return _react2.default.createElement(\n                \"g\",\n                null,\n                points,\n                hoverOverlay\n            );\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this3 = this;\n\n            return _react2.default.createElement(\n                \"g\",\n                null,\n                _react2.default.createElement(\"rect\", {\n                    key: \"scatter-hit-rect\",\n                    ref: function ref(c) {\n                        _this3.eventrect = c;\n                    },\n                    style: { opacity: 0.0 },\n                    x: 0,\n                    y: 0,\n                    width: this.props.width,\n                    height: this.props.height,\n                    onMouseMove: this.handleHover,\n                    onMouseLeave: this.handleHoverLeave\n                }),\n                this.renderScatter()\n            );\n        }\n    }]);\n\n    return ScatterChart;\n}(_react2.default.Component);\n\nexports.default = ScatterChart;\n\n\nScatterChart.propTypes = {\n    /**\n     * Show or hide this chart\n     */\n    visible: _propTypes2.default.bool,\n\n    /**\n     * What [Pond TimeSeries](https://esnet-pondjs.appspot.com/#/timeseries) data to visualize\n     */\n    series: _propTypes2.default.instanceOf(_pondjs.TimeSeries).isRequired,\n\n    /**\n     * Which columns of the series to render\n     *\n     * NOTE : Columns can't have periods because periods\n     * represent a path to deep data in the underlying events\n     * (i.e. reference into nested data structures)\n     */\n    columns: _propTypes2.default.arrayOf(_propTypes2.default.string),\n\n    /**\n     * Reference to the axis which provides the vertical scale for drawing. e.g.\n     * specifying axis=\"trafficRate\" would refer the y-scale to the YAxis of id=\"trafficRate\".\n     */\n    axis: _propTypes2.default.string.isRequired, // eslint-disable-line\n\n    /**\n     * The radius of the points in the scatter chart.\n     *\n     * If this is a number it will be used as the radius for every point.\n     * If this is a function it will be called for each event.\n     *\n     * The function is called with the event and the column name and must return a number.\n     *\n     * For example this function will use the radius column of the event:\n     *\n     * ```\n     * const radius = (event, column) => {\n     *    return event.get(\"radius\");\n     * }\n     * ```\n     */\n    radius: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.func, _propTypes2.default.instanceOf(_styler.Styler)]),\n\n    /**\n     * The style of the scatter chart drawing (using SVG CSS properties).\n     * This is an object with a key for each column which is being plotted,\n     * per the `columns` prop. Each of those keys has an object as its\n     * value which has keys which are style properties for an SVG <Circle> and\n     * the value to use.\n     *\n     * For example:\n     * ```\n     * style = {\n     *     columnName: {\n     *         normal: {\n     *             fill: \"steelblue\",\n     *             opacity: 0.8,\n     *         },\n     *         highlighted: {\n     *             fill: \"#a7c4dd\",\n     *             opacity: 1.0,\n     *         },\n     *         selected: {\n     *             fill: \"orange\",\n     *             opacity: 1.0,\n     *         },\n     *         muted: {\n     *             fill: \"grey\",\n     *             opacity: 0.5\n     *         }\n     *     }\n     * }\n     * ```\n     *\n     * You can also supply a function, which will be called with an event\n     * and column. The function should return an object containing the\n     * 4 states (normal, highlighted, selected and muted) and the corresponding\n     * CSS properties.\n     */\n    style: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func]),\n\n    /**\n     * The style of the info box and connecting lines. The style should\n     * be an object of the form { line, box }. Line and box are both objects\n     * containing the inline CSS for those elements of the info tracker.\n     */\n    infoStyle: _propTypes2.default.shape({\n        line: _propTypes2.default.object, // eslint-disable-line\n        box: _propTypes2.default.object // eslint-disable-line\n    }),\n\n    /**\n     * The width of the hover info box\n     */\n    infoWidth: _propTypes2.default.number, // eslint-disable-line\n\n    /**\n     * The height of the hover info box\n     */\n    infoHeight: _propTypes2.default.number, // eslint-disable-line\n\n    /**\n     * The vertical offset in pixels of the EventMarker info box from the\n     * top of the chart.\n     */\n    infoOffsetY: _propTypes2.default.number,\n\n    /**\n     * The values to show in the info box. This is an array of\n     * objects, with each object specifying the label and value\n     * to be shown in the info box.\n     */\n    info: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n        label: _propTypes2.default.string, // eslint-disable-line\n        value: _propTypes2.default.string // eslint-disable-line\n    })),\n\n    /**\n     * The selected dot, which will be rendered in the \"selected\" style.\n     * If a dot is selected, all other dots will be rendered in the \"muted\" style.\n     *\n     * See also `onSelectionChange`\n     */\n    selected: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n        event: _propTypes2.default.instanceOf(_pondjs.Event),\n        column: _propTypes2.default.string\n    })),\n\n    /**\n     * A callback that will be called when the selection changes. It will be called\n     * with an object containing the event and column.\n     */\n    onSelectionChange: _propTypes2.default.func,\n\n    /**\n     * The highlighted dot, as an object containing the { event, column },\n     * which will be rendered in the \"highlighted\" style.\n     *\n     * See also the prop `onMouseNear`.\n     */\n    highlight: _propTypes2.default.shape({\n        event: _propTypes2.default.instanceOf(_pondjs.Event),\n        column: _propTypes2.default.string\n    }),\n\n    /**\n     * Will be called with the nearest point to the cursor. The callback\n     * will contain the point, which is a map of { event, column }.\n     */\n    onMouseNear: _propTypes2.default.func,\n\n    /**\n     * [Internal] The timeScale supplied by the surrounding ChartContainer\n     */\n    timeScale: _propTypes2.default.func,\n\n    /**\n     * [Internal] The yScale supplied by the associated YAxis\n     */\n    yScale: _propTypes2.default.func,\n\n    /**\n     * [Internal] The width supplied by the surrounding ChartContainer\n     */\n    width: _propTypes2.default.number,\n\n    /**\n     * [Internal] The height supplied by the surrounding ChartContainer\n     */\n    height: _propTypes2.default.number\n};\n\nScatterChart.defaultProps = {\n    visible: true,\n    columns: [\"value\"],\n    radius: 2.0,\n    infoStyle: {\n        stroke: \"#999\",\n        fill: \"white\",\n        opacity: 0.9,\n        pointerEvents: \"none\"\n    },\n    stemStyle: {\n        stroke: \"#999\",\n        cursor: \"crosshair\",\n        pointerEvents: \"none\"\n    },\n    markerStyle: {\n        fill: \"#999\"\n    },\n    infoWidth: 90,\n    infoHeight: 30,\n    infoOffsetY: 20\n};"]},"metadata":{},"sourceType":"script"}